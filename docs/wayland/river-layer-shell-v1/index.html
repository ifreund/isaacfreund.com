<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=icon href=/if.png><link rel=stylesheet href=/style.css><link rel=alternate href=/blog/feed.xml type=application/atom+xml title="Isaac Freund's Blog"><link rel=alternate href=/poetry/feed.xml type=application/atom+xml title="Isaac Freund's Poetry"><link rel=me href=https://hachyderm.io/@ifreund><header><nav><input type=checkbox id=toggle><div class=nav-bar><div class=nav-home><a href=/><svg viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="1" height="1"/><rect x="0" y="2" width="1" height="3"/><path d="M2 0h3v1H3v1h2v1H3v2H2V0z"/><rect x="4" y="4" width="1" height="1"/></svg></a></div><div class=menu><label for=toggle class=menu-button><svg class="menu-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="5" height="1"/><rect x="0" y="2" width="5" height="1"/><rect x="0" y="4" width="5" height="1"/></svg>
<svg class="close-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><line x1="0" y1="0" x2="5" y2="5"/><line x1="0" y1="5" x2="5" y2="0"/></svg></label></div></div></div><div class=nav-items><a href=/about>about</a>
<a href=/blog>blog</a>
<a href=/software>software</a>
<a href=/poetry>poetry</a>
<a href=/consulting>consulting</a></div></nav></header><main class="wayland-protocol river-layer-shell-v1"><div class=title><div class=row><div><h1>river-layer-shell-v1</h1><p class=summary>optional layer shell support</div><div><p>(<a href=/docs/wayland>index</a>)<p></div></div></div><div class=content><div class=description><p>This protocol allows the <b><a href=/docs/wayland/river-window-management-v1>river-window-management-v1</a></b> window manager to
support the <b><a href=/docs/wayland/wlr-layer-shell-unstable-v1>wlr-layer-shell-unstable-v1</a></b> protocol.<p>The key words "must", "must not", "required", "shall", "shall not",
"should", "should not", "recommended", "may", and "optional" in this
document are to be interpreted as described in IETF RFC 2119.</div><div class=interface-head><div class=row><div><h2><a id=river_layer_shell_v1 href=#river_layer_shell_v1>river_layer_shell_v1</a></h2><p class=summary>river layer shell global interface</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>This global interface should only be advertised to the client if the
<b><a href=/docs/wayland/river-window-management-v1/)])))#river_window_manager_v1>river_window_manager_v1</a></b> global is also advertised. Binding this interface
indicates that the window manager supports layer shell.<p>If the window manager does not bind this interface, the compositor should
not allow clients to map layer surfaces. This can be achieved by
closing layer surfaces immediately.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_v1.destroy href=#river_layer_shell_v1.destroy>river_layer_shell_v1.destroy</a></h3><p class=summary>destroy the river_layer_shell_v1 object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>This request indicates that the client will no longer use the
<b><a href=/docs/wayland/river-layer-shell-v1/)])))#river_layer_shell_v1>river_layer_shell_v1</a></b> object.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_v1.get_output href=#river_layer_shell_v1.get_output>river_layer_shell_v1.get_output</a></h3><p class=summary>get layer shell output state</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>It is a protocol error to make this request more than once for a given
<b><a href=/docs/wayland/river-window-management-v1/)])))#river_output_v1>river_output_v1</a></b> object.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/river-layer-shell-v1/#river_layer_shell_output_v1>river_layer_shell_output_v1</a></b>><td><p><tr><td>output<td>object&lt;<b><a href=/docs/wayland/river-window-management-v1/#river_output_v1>river_output_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=river_layer_shell_v1.get_seat href=#river_layer_shell_v1.get_seat>river_layer_shell_v1.get_seat</a></h3><p class=summary>get layer shell seat state</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>It is a protocol error to make this request more than once for a given
<b><a href=/docs/wayland/river-window-management-v1/)])))#river_seat_v1>river_seat_v1</a></b> object.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/river-layer-shell-v1/#river_layer_shell_seat_v1>river_layer_shell_seat_v1</a></b>><td><p><tr><td>seat<td>object&lt;<b><a href=/docs/wayland/river-window-management-v1/#river_seat_v1>river_seat_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=river_layer_shell_v1.enums.error href=#river_layer_shell_v1.enums.error>river_layer_shell_v1.error</a></h3><p class=summary></div><div><b>Enum</b><br>Since Version 1</div></div></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>object_already_created<td>0<td>1<td><p>the layer_shell_output/seat object was already created.</table><div class=interface-head><div class=row><div><h2><a id=river_layer_shell_output_v1 href=#river_layer_shell_output_v1>river_layer_shell_output_v1</a></h2><p class=summary>layer shell output state</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>The lifetime of this object is tied to the corresponding <b><a href=/docs/wayland/river-window-management-v1/)])))#river_output_v1>river_output_v1</a></b>.
This object is made inert when the <b><a href=/docs/wayland/river-window-management-v1/)])))#river_output_v1.removed>river_output_v1.removed</a></b> event is sent
and should be destroyed.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_output_v1.destroy href=#river_layer_shell_output_v1.destroy>river_layer_shell_output_v1.destroy</a></h3><p class=summary>destroy the object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>This request indicates that the client will no longer use the
<b><a href=/docs/wayland/river-layer-shell-v1/)])))#river_layer_shell_output_v1>river_layer_shell_output_v1</a></b> object and that it may be safely destroyed.<p>This request should be made after the <b><a href=/docs/wayland/river-window-management-v1/)])))#river_output_v1.removed>river_output_v1.removed</a></b> event is
received to complete destruction of the output.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_output_v1.set_default href=#river_layer_shell_output_v1.set_default>river_layer_shell_output_v1.set_default</a></h3><p class=summary>Set default output for layer surfaces</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Mark this output as the default for new layer surfaces which do not
request a specific output themselves. This request overrides any
previous <b><a href=/docs/wayland/river-layer-shell-v1/))))#river_layer_shell_output_v1.set_default>set_default</a></b> request on any <b><a href=/docs/wayland/river-layer-shell-v1/)])))#river_layer_shell_output_v1>river_layer_shell_output_v1</a></b> object.<p>If no <b><a href=/docs/wayland/river-layer-shell-v1/))))#river_layer_shell_output_v1.set_default>set_default</a></b> request is made or if the default output is destroyed,
the default output is undefined until the next <b><a href=/docs/wayland/river-layer-shell-v1/))))#river_layer_shell_output_v1.set_default>set_default</a></b> request.<p>This request modifies window management state and may only be made as
part of a manage sequence, see the <b><a href=/docs/wayland/river-window-management-v1/)])))#river_window_manager_v1>river_window_manager_v1</a></b> description.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_output_v1.non_exclusive_area href=#river_layer_shell_output_v1.non_exclusive_area>river_layer_shell_output_v1.non_exclusive_area</a></h3><p class=summary>area left after subtracting exclusive zones</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event indicates the area of the output remaining after subtracting
the exclusive zones of layer surfaces. Exclusive zones are a hint, the
window manager is free to ignore this area hint if it wishes.<p>The x and y values are in the global coordinate space, not relative to
the position of the output.<p>This event will be followed by a manage_start event after all other new
state has been sent by the server.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>x<td>int<td><p><tr><td>y<td>int<td><p><tr><td>width<td>int<td><p><tr><td>height<td>int<td><p></table><div class=interface-head><div class=row><div><h2><a id=river_layer_shell_seat_v1 href=#river_layer_shell_seat_v1>river_layer_shell_seat_v1</a></h2><p class=summary>layer shell seat state</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>The lifetime of this object is tied to the corresponding <b><a href=/docs/wayland/river-window-management-v1/)])))#river_seat_v1>river_seat_v1</a></b>.
This object is made inert when the <b><a href=/docs/wayland/river-window-management-v1/)])))#river_seat_v1.removed>river_seat_v1.removed</a></b> event is sent and
should be destroyed.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_seat_v1.destroy href=#river_layer_shell_seat_v1.destroy>river_layer_shell_seat_v1.destroy</a></h3><p class=summary>destroy the object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>This request indicates that the client will no longer use the
<b><a href=/docs/wayland/river-layer-shell-v1/)])))#river_layer_shell_seat_v1>river_layer_shell_seat_v1</a></b> object and that it may be safely destroyed.<p>This request should be made after the <b><a href=/docs/wayland/river-window-management-v1/)])))#river_seat_v1.removed>river_seat_v1.removed</a></b> event is
received to complete destruction of the seat.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_seat_v1.focus_exclusive href=#river_layer_shell_seat_v1.focus_exclusive>river_layer_shell_seat_v1.focus_exclusive</a></h3><p class=summary></div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>A layer shell surface will be given exclusive keyboard focus at the end
of the manage sequence in which this event is sent. The window manager
may want to update window decorations or similar to indicate that no
window is focused.<p>Until the <b><a href=/docs/wayland/river-layer-shell-v1/))))#river_layer_shell_seat_v1.focus_non_exclusive>focus_non_exclusive</a></b> or <b><a href=/docs/wayland/river-layer-shell-v1/))))#river_layer_shell_seat_v1.focus_none>focus_none</a></b> event is sent, all window
manager requests to change focus are ignored.<p>This event will be followed by a manage_start event after all other new
state has been sent by the server.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_seat_v1.focus_non_exclusive href=#river_layer_shell_seat_v1.focus_non_exclusive>river_layer_shell_seat_v1.focus_non_exclusive</a></h3><p class=summary></div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>A layer shell surface will be given non-exclusive keyboard focus at the
end of the manage sequence in which this event is sent. The window
manager may want to update window decorations or similar to indicate
that no window is focused.<p>The window manager continues to control focus and may choose to focus a
different window/shell surface at any time. If the window manager sets
focus during the same manage sequence in which this event is sent, the
layer surface will not be focused.<p>This event will be followed by a manage_start event after all other new
state has been sent by the server.</div><div class=message-head><div class=row><div><h3><a id=river_layer_shell_seat_v1.focus_none href=#river_layer_shell_seat_v1.focus_none>river_layer_shell_seat_v1.focus_none</a></h3><p class=summary></div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>No layer shell surface will have keyboard focus at the end of the manage
sequence in which this event is sent. The window manager may want to
return focus to whichever window last had focus, for example.<p>This event will be followed by a manage_start event after all other new
state has been sent by the server.</div><div class=interface-head><h2>Copyright</h2></div><div class=copyright><p><br>SPDX-FileCopyrightText: © 2025 Isaac Freund<br>SPDX-License-Identifier: MIT<br><br>Permission is hereby granted, free of charge, to any person obtaining a copy<br>of this software and associated documentation files (the "Software"), to<br>deal in the Software without restriction, including without limitation the<br>rights to use, copy, modify, merge, publish, distribute, sublicense, and/or<br>sell copies of the Software, and to permit persons to whom the Software is<br>furnished to do so, subject to the following conditions:<br><br>The above copyright notice and this permission notice shall be included in<br>all copies or substantial portions of the Software.<br><br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING<br>FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS<br>IN THE SOFTWARE.<br></div></div></main><footer><span class=line>© 2021-2026 Isaac Freund,</span>
<span class=line><a href=/impressum>Impressum</a>,</span>
<span class=line>Content <a href=/CC-BY-NC-SA-4.0.txt>CC-BY-NC-SA-4.0</a>,</span>
<span class=line><a href=https://codeberg.org/ifreund/website>Source Code</a> <a href=/AGPL-3.0-only.txt>AGPL-3.0-only</a></span></footer>