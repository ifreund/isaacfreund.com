<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=icon href=/if.png><link rel=stylesheet href=/style.css><link rel=alternate href=/blog/feed.xml type=application/atom+xml title="Isaac Freund's Blog"><link rel=alternate href=/poetry/feed.xml type=application/atom+xml title="Isaac Freund's Poetry"><link rel=me href=https://hachyderm.io/@ifreund><header><nav><input type=checkbox id=toggle><div class=nav-bar><div class=nav-home><a href=/><svg viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="1" height="1"/><rect x="0" y="2" width="1" height="3"/><path d="M2 0h3v1H3v1h2v1H3v2H2V0z"/><rect x="4" y="4" width="1" height="1"/></svg></a></div><div class=menu><label for=toggle class=menu-button><svg class="menu-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="5" height="1"/><rect x="0" y="2" width="5" height="1"/><rect x="0" y="4" width="5" height="1"/></svg>
<svg class="close-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><line x1="0" y1="0" x2="5" y2="5"/><line x1="0" y1="5" x2="5" y2="0"/></svg></label></div></div></div><div class=nav-items><a href=/about>about</a>
<a href=/blog>blog</a>
<a href=/software>software</a>
<a href=/poetry>poetry</a>
<a href=/consulting>consulting</a></div></nav></header><main class="wayland-protocol ext-foreign-toplevel-list-v1"><div class=title><div class=row><div><h1>ext-foreign-toplevel-list-v1</h1><p class=summary>list toplevels</div><div><p>(<a href=/docs/wayland>index</a>)<p></div></div></div><div class=content><div class=description><p>The purpose of this protocol is to provide protocol object handles for
toplevels, possibly originating from another client.<p>This protocol is intentionally minimalistic and expects additional
functionality (e.g. creating a screencopy source from a toplevel handle,
getting information about the state of the toplevel) to be implemented
in extension protocols.<p>The compositor may choose to restrict this protocol to a special client
launched by the compositor itself or expose it to all clients,
this is compositor policy.<p>The key words "must", "must not", "required", "shall", "shall not",
"should", "should not", "recommended", "may", and "optional" in this
document are to be interpreted as described in IETF RFC 2119.<p>Warning! The protocol described in this file is currently in the testing
phase. Backward compatible changes may be added together with the
corresponding interface version bump. Backward incompatible changes can
only be done by creating a new major version of the extension.</div><div class=interface-head><div class=row><div><h2><a id=ext_foreign_toplevel_list_v1 href=#ext_foreign_toplevel_list_v1>ext_foreign_toplevel_list_v1</a></h2><p class=summary>list toplevels</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>A toplevel is defined as a surface with a role similar to xdg_toplevel.
XWayland surfaces may be treated like toplevels in this protocol.<p>After a client binds the ext_foreign_toplevel_list_v1, each mapped
toplevel window will be sent using the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.toplevel>ext_foreign_toplevel_list_v1.toplevel</a></b>
event.<p>Clients which only care about the current state can perform a roundtrip after
binding this global.<p>For each instance of ext_foreign_toplevel_list_v1, the compositor must
create a new <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b> object for each mapped toplevel.<p>If a compositor implementation sends the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.finished>ext_foreign_toplevel_list_v1.finished</a></b>
event after the global is bound, the compositor must not send any
<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.toplevel>ext_foreign_toplevel_list_v1.toplevel</a></b> events.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_list_v1.stop href=#ext_foreign_toplevel_list_v1.stop>ext_foreign_toplevel_list_v1.stop</a></h3><p class=summary>stop sending events</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>This request indicates that the client no longer wishes to receive
events for new toplevels.<p>The Wayland protocol is asynchronous, meaning the compositor may send
further toplevel events until the stop request is processed.
The client should wait for a <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.finished>ext_foreign_toplevel_list_v1.finished</a></b>
event before destroying this object.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_list_v1.destroy href=#ext_foreign_toplevel_list_v1.destroy>ext_foreign_toplevel_list_v1.destroy</a></h3><p class=summary>destroy the ext_foreign_toplevel_list_v1 object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>This request should be called either when the client will no longer
use the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1>ext_foreign_toplevel_list_v1</a></b> or after the finished event
has been received to allow destruction of the object.<p>If a client wishes to destroy this object it should send a
<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.stop>ext_foreign_toplevel_list_v1.stop</a></b> request and wait for a <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.finished>ext_foreign_toplevel_list_v1.finished</a></b>
event, then destroy the handles and then this object.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_list_v1.toplevel href=#ext_foreign_toplevel_list_v1.toplevel>ext_foreign_toplevel_list_v1.toplevel</a></h3><p class=summary>a toplevel has been created</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event is emitted whenever a new toplevel window is created. It is
emitted for all toplevels, regardless of the app that has created them.<p>All initial properties of the toplevel (identifier, title, app_id) will be sent
immediately after this event using the corresponding events for
ext_foreign_toplevel_handle_v1. The compositor will use the
<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1.done>ext_foreign_toplevel_handle_v1.done</a></b> event to indicate when all data has
been sent.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>toplevel<td>new_id&lt;<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_list_v1.finished href=#ext_foreign_toplevel_list_v1.finished>ext_foreign_toplevel_list_v1.finished</a></h3><p class=summary>the compositor has finished with the toplevel manager</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event indicates that the compositor is done sending events
to this object. The client should destroy the object.
See <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1.destroy>ext_foreign_toplevel_list_v1.destroy</a></b> for more information.<p>The compositor must not send any more toplevel events after this event.</div><div class=interface-head><div class=row><div><h2><a id=ext_foreign_toplevel_handle_v1 href=#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></h2><p class=summary>a mapped toplevel</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>A <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b> object represents a mapped toplevel
window. A single app may have multiple mapped toplevels.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_handle_v1.destroy href=#ext_foreign_toplevel_handle_v1.destroy>ext_foreign_toplevel_handle_v1.destroy</a></h3><p class=summary>destroy the ext_foreign_toplevel_handle_v1 object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>This request should be used when the client will no longer use the handle
or after the closed event has been received to allow destruction of the
object.<p>When a handle is destroyed, a new handle may not be created by the server
until the toplevel is unmapped and then remapped. Destroying a toplevel handle
is not recommended unless the client is cleaning up child objects
before destroying the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1>ext_foreign_toplevel_list_v1</a></b> object, the toplevel
was closed or the toplevel handle will not be used in the future.<p>Other protocols which extend the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b>
interface should require destructors for extension interfaces be
called before allowing the toplevel handle to be destroyed.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_handle_v1.closed href=#ext_foreign_toplevel_handle_v1.closed>ext_foreign_toplevel_handle_v1.closed</a></h3><p class=summary>the toplevel has been closed</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The server will emit no further events on the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b>
after this event. Any requests received aside from the destroy request must
be ignored. Upon receiving this event, the client should destroy the handle.<p>Other protocols which extend the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b>
interface must also ignore requests other than destructors.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_handle_v1.done href=#ext_foreign_toplevel_handle_v1.done>ext_foreign_toplevel_handle_v1.done</a></h3><p class=summary>all information about the toplevel has been sent</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event is sent after all changes in the toplevel state have
been sent.<p>This allows changes to the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b> properties
to be atomically applied. Other protocols which extend the
<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1>ext_foreign_toplevel_handle_v1</a></b> interface may use this event to also
atomically apply any pending state.<p>This event must not be sent after the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1.closed>ext_foreign_toplevel_handle_v1.closed</a></b>
event.</div><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_handle_v1.title href=#ext_foreign_toplevel_handle_v1.title>ext_foreign_toplevel_handle_v1.title</a></h3><p class=summary>title change</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The title of the toplevel has changed.<p>The configured state must not be applied immediately. See
<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1.done>ext_foreign_toplevel_handle_v1.done</a></b> for details.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>title<td>string<td><p></table><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_handle_v1.app_id href=#ext_foreign_toplevel_handle_v1.app_id>ext_foreign_toplevel_handle_v1.app_id</a></h3><p class=summary>app_id change</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The app id of the toplevel has changed.<p>The configured state must not be applied immediately. See
<b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_handle_v1.done>ext_foreign_toplevel_handle_v1.done</a></b> for details.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>app_id<td>string<td><p></table><div class=message-head><div class=row><div><h3><a id=ext_foreign_toplevel_handle_v1.identifier href=#ext_foreign_toplevel_handle_v1.identifier>ext_foreign_toplevel_handle_v1.identifier</a></h3><p class=summary>a stable identifier for a toplevel</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This identifier is used to check if two or more toplevel handles belong
to the same toplevel.<p>The identifier is useful for command line tools or privileged clients
which may need to reference an exact toplevel across processes or
instances of the <b><a href=/docs/wayland/ext-foreign-toplevel-list-v1/#ext_foreign_toplevel_list_v1>ext_foreign_toplevel_list_v1</a></b> global.<p>The compositor must only send this event when the handle is created.<p>The identifier must be unique per toplevel and it's handles. Two different
toplevels must not have the same identifier. The identifier is only valid
as long as the toplevel is mapped. If the toplevel is unmapped the identifier
must not be reused. An identifier must not be reused by the compositor to
ensure there are no races when sharing identifiers between processes.<p>An identifier is a string that contains up to 32 printable ASCII bytes.
An identifier must not be an empty string. It is recommended that a
compositor includes an opaque generation value in identifiers. How the
generation value is used when generating the identifier is implementation
dependent.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>identifier<td>string<td><p></table><div class=interface-head><h2>Copyright</h2></div><div class=copyright><p><br>Copyright © 2018 Ilia Bozhinov<br>Copyright © 2020 Isaac Freund<br>Copyright © 2022 wb9688<br>Copyright © 2023 i509VCB<br><br>Permission to use, copy, modify, distribute, and sell this<br>software and its documentation for any purpose is hereby granted<br>without fee, provided that the above copyright notice appear in<br>all copies and that both that copyright notice and this permission<br>notice appear in supporting documentation, and that the name of<br>the copyright holders not be used in advertising or publicity<br>pertaining to distribution of the software without specific,<br>written prior permission. The copyright holders make no<br>representations about the suitability of this software for any<br>purpose. It is provided "as is" without express or implied<br>warranty.<br><br>THE COPYRIGHT HOLDERS DISCLAIM ALL WARRANTIES WITH REGARD TO THIS<br>SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND<br>FITNESS, IN NO EVENT SHALL THE COPYRIGHT HOLDERS BE LIABLE FOR ANY<br>SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES<br>WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN<br>AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,<br>ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF<br>THIS SOFTWARE.<br></div></div></main><footer><span class=line>© 2021-2026 Isaac Freund,</span>
<span class=line><a href=/impressum>Impressum</a>,</span>
<span class=line>Content <a href=/CC-BY-NC-SA-4.0.txt>CC-BY-NC-SA-4.0</a>,</span>
<span class=line><a href=https://codeberg.org/ifreund/website>Source Code</a> <a href=/AGPL-3.0-only.txt>AGPL-3.0-only</a></span></footer>