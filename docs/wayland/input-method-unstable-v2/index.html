<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=icon href=/if.png><link rel=stylesheet href=/style.css><link rel=alternate href=/blog/feed.xml type=application/atom+xml title="Isaac Freund's Blog"><link rel=alternate href=/poetry/feed.xml type=application/atom+xml title="Isaac Freund's Poetry"><link rel=me href=https://hachyderm.io/@ifreund><header><nav><input type=checkbox id=toggle><div class=nav-bar><div class=nav-home><a href=/><svg viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="1" height="1"/><rect x="0" y="2" width="1" height="3"/><path d="M2 0h3v1H3v1h2v1H3v2H2V0z"/><rect x="4" y="4" width="1" height="1"/></svg></a></div><div class=menu><label for=toggle class=menu-button><svg class="menu-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="5" height="1"/><rect x="0" y="2" width="5" height="1"/><rect x="0" y="4" width="5" height="1"/></svg>
<svg class="close-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><line x1="0" y1="0" x2="5" y2="5"/><line x1="0" y1="5" x2="5" y2="0"/></svg></label></div></div></div><div class=nav-items><a href=/about>about</a>
<a href=/blog>blog</a>
<a href=/software>software</a>
<a href=/poetry>poetry</a>
<a href=/consulting>consulting</a></div></nav></header><main class="wayland-protocol input-method-unstable-v2"><div class=title><div class=row><div><h1>input-method-unstable-v2</h1><p class=summary>Protocol for creating input methods</div><div><p>(<a href=/docs/wayland>index</a>)<p></div></div></div><div class=content><div class=description><p>This protocol allows applications to act as input methods for compositors.<p>An input method context is used to manage the state of the input method.<p>Text strings are UTF-8 encoded, their indices and lengths are in bytes.<p>This document adheres to the RFC 2119 when using words like "must",
"should", "may", etc.<p>Warning! The protocol described in this file is experimental and
backward incompatible changes may be made. Backward compatible changes
may be added together with the corresponding interface version bump.
Backward incompatible changes are done by bumping the version number in
the protocol and interface names and resetting the interface version.
Once the protocol is to be declared stable, the 'z' prefix and the
version number in the protocol and interface names are removed and the
interface version number is reset.</div><div class=interface-head><div class=row><div><h2><a id=zwp_input_method_v2 href=#zwp_input_method_v2>zwp_input_method_v2</a></h2><p class=summary>input method</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>An input method object allows for clients to compose text.<p>The objects connects the client to a text input in an application, and
lets the client to serve as an input method for a seat.<p>The <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> object can occupy two distinct states: active and
inactive. In the active state, the object is associated to and
communicates with a text input. In the inactive state, there is no
associated text input, and the only communication is with the compositor.
Initially, the input method is in the inactive state.<p>Requests issued in the inactive state must be accepted by the compositor.
Because of the serial mechanism, and the state reset on activate event,
they will not have any effect on the state of the next text input.<p>There must be no more than one input method object per seat.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.commit_string href=#zwp_input_method_v2.commit_string>zwp_input_method_v2.commit_string</a></h3><p class=summary>commit string</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Send the commit string text for insertion to the application.<p>Inserts a string at current cursor position (see commit event
sequence). The string to commit could be either just a single character
after a key press or the result of some composing.<p>The argument text is a buffer containing the string to insert. There is
a maximum length of <b><a href=/docs/wayland/wayland>wayland</a></b> messages, so text can not be longer than
4000 bytes.<p>Values set with this event are double-buffered. They must be applied
and reset to initial on the next <b><a href=/docs/wayland/text-input-unstable-v3/#zwp_text_input_v3.commit>zwp_text_input_v3.commit</a></b> request.<p>The initial value of text is an empty string.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>text<td>string<td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.set_preedit_string href=#zwp_input_method_v2.set_preedit_string>zwp_input_method_v2.set_preedit_string</a></h3><p class=summary>pre-edit string</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Send the pre-edit string text to the application text input.<p>Place a new composing text (pre-edit) at the current cursor position.
Any previously set composing text must be removed. Any previously
existing selected text must be removed. The cursor is moved to a new
position within the preedit string.<p>The argument text is a buffer containing the preedit string. There is
a maximum length of <b><a href=/docs/wayland/wayland>wayland</a></b> messages, so text can not be longer than
4000 bytes.<p>The arguments cursor_begin and cursor_end are counted in bytes relative
to the beginning of the submitted string buffer. Cursor should be
hidden by the text input when both are equal to -1.<p>cursor_begin indicates the beginning of the cursor. cursor_end
indicates the end of the cursor. It may be equal or different than
cursor_begin.<p>Values set with this event are double-buffered. They must be applied on
the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.commit>zwp_input_method_v2.commit</a></b> event.<p>The initial value of text is an empty string. The initial value of
cursor_begin, and cursor_end are both 0.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>text<td>string<td><p><tr><td>cursor_begin<td>int<td><p><tr><td>cursor_end<td>int<td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.delete_surrounding_text href=#zwp_input_method_v2.delete_surrounding_text>zwp_input_method_v2.delete_surrounding_text</a></h3><p class=summary>delete text</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Remove the surrounding text.<p>before_length and after_length are the number of bytes before and after
the current cursor index (excluding the preedit text) to delete.<p>If any preedit text is present, it is replaced with the cursor for the
purpose of this event. In effect before_length is counted from the
beginning of preedit text, and after_length from its end (see commit
event sequence).<p>Values set with this event are double-buffered. They must be applied
and reset to initial on the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.commit>zwp_input_method_v2.commit</a></b> request.<p>The initial values of both before_length and after_length are 0.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>before_length<td>uint<td><p><tr><td>after_length<td>uint<td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.commit href=#zwp_input_method_v2.commit>zwp_input_method_v2.commit</a></h3><p class=summary>apply state</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Apply state changes from <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.commit_string>commit_string</a></b>, <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.set_preedit_string>set_preedit_string</a></b> and
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.delete_surrounding_text>delete_surrounding_text</a></b> requests.<p>The state relating to these events is double-buffered, and each one
modifies the pending state. This request replaces the current state
with the pending state.<p>The connected text input is expected to proceed by evaluating the
changes in the following order:<p>1. Replace existing preedit string with the cursor.
2. Delete requested surrounding text.
3. Insert commit string with the cursor at its end.
4. Calculate surrounding text to send.
5. Insert new preedit text in cursor position.
6. Place cursor inside preedit text.<p>The serial number reflects the last state of the <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b>
object known to the client. The value of the serial argument must be
equal to the number of done events already issued by that object. When
the compositor receives a commit request with a serial different than
the number of past done events, it must proceed as normal, except it
should not change the current state of the <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> object.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>serial<td>uint<td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.get_input_popup_surface href=#zwp_input_method_v2.get_input_popup_surface>zwp_input_method_v2.get_input_popup_surface</a></h3><p class=summary>create popup surface</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Creates a new <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></b> object wrapping a given
surface.<p>The surface gets assigned the "input_popup" role. If the surface
already has an assigned role, the compositor must issue a protocol
error.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></b>><td><p><tr><td>surface<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.grab_keyboard href=#zwp_input_method_v2.grab_keyboard>zwp_input_method_v2.grab_keyboard</a></h3><p class=summary>grab hardware keyboard</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Allow an input method to receive hardware keyboard input and process
key events to generate text events (with pre-edit) over the wire. This
allows input methods which compose multiple key events for inputting
text like it is done for CJK languages.<p>The compositor should send all keyboard events on the seat to the grab
holder via the returned <b><a href=/docs/wayland/wayland/#wl_keyboard>wl_keyboard</a></b> object. Nevertheless, the
compositor may decide not to forward any particular event. The
compositor must not further process any event after it has been
forwarded to the grab holder.<p>Releasing the resulting <b><a href=/docs/wayland/wayland/#wl_keyboard>wl_keyboard</a></b> object releases the grab.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>keyboard<td>new_id&lt;<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_keyboard_grab_v2>zwp_input_method_keyboard_grab_v2</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.destroy href=#zwp_input_method_v2.destroy>zwp_input_method_v2.destroy</a></h3><p class=summary>destroy the text input</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroys the zwp_text_input_v2 object and any associated child
objects, i.e. <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></b> and
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_keyboard_grab_v2>zwp_input_method_keyboard_grab_v2</a></b>.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.activate href=#zwp_input_method_v2.activate>zwp_input_method_v2.activate</a></h3><p class=summary>input method has been requested</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Notification that a text input focused on this seat requested the input
method to be activated.<p>This event serves the purpose of providing the compositor with an
active input method.<p>This event resets all state associated with previous
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.surrounding_text>surrounding_text</a></b>, <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.text_change_cause>text_change_cause</a></b>, and <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.content_type>content_type</a></b> events, as well
as the state associated with <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.set_preedit_string>set_preedit_string</a></b>, <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.commit_string>commit_string</a></b>, and
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.delete_surrounding_text>delete_surrounding_text</a></b> requests. In addition, it marks the
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> object as active, and makes any existing
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></b> objects visible.<p>The <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.surrounding_text>surrounding_text</a></b>, and <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.content_type>content_type</a></b> events must follow before the
next done event if the text input supports the respective
functionality.<p>State set with this event is double-buffered. It will get applied on
the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.done>zwp_input_method_v2.done</a></b> event, and stay valid until changed.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.deactivate href=#zwp_input_method_v2.deactivate>zwp_input_method_v2.deactivate</a></h3><p class=summary>deactivate event</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Notification that no focused text input currently needs an active
input method on this seat.<p>This event marks the <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> object as inactive. The
compositor must make all existing <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></b> objects
invisible until the next activate event.<p>State set with this event is double-buffered. It will get applied on
the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.done>zwp_input_method_v2.done</a></b> event, and stay valid until changed.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.surrounding_text href=#zwp_input_method_v2.surrounding_text>zwp_input_method_v2.surrounding_text</a></h3><p class=summary>surrounding text event</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Updates the surrounding plain text around the cursor, excluding the
preedit text.<p>If any preedit text is present, it is replaced with the cursor for the
purpose of this event.<p>The argument text is a buffer containing the surrounding text, and must
include the cursor position, and the complete selection. It should
contain additional characters before and after these. There is a
maximum length of <b><a href=/docs/wayland/wayland>wayland</a></b> messages, so text can not be longer than 4000
bytes.<p>cursor is the byte offset of the cursor within the text buffer.<p>anchor is the byte offset of the selection anchor within the text
buffer. If there is no selected text, anchor must be the same as
cursor.<p>If this event does not arrive before the first done event, the input
method may assume that the text input does not support this
functionality and ignore following <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.surrounding_text>surrounding_text</a></b> events.<p>Values set with this event are double-buffered. They will get applied
and set to initial values on the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.done>zwp_input_method_v2.done</a></b>
event.<p>The initial state for affected fields is empty, meaning that the text
input does not support sending surrounding text. If the empty values
get applied, subsequent attempts to change them may have no effect.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>text<td>string<td><p><tr><td>cursor<td>uint<td><p><tr><td>anchor<td>uint<td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.text_change_cause href=#zwp_input_method_v2.text_change_cause>zwp_input_method_v2.text_change_cause</a></h3><p class=summary>indicates the cause of surrounding text change</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Tells the input method why the text surrounding the cursor changed.<p>Whenever the client detects an external change in text, cursor, or
anchor position, it must issue this request to the compositor. This
request is intended to give the input method a chance to update the
preedit text in an appropriate way, e.g. by removing it when the user
starts typing with a keyboard.<p>cause describes the source of the change.<p>The value set with this event is double-buffered. It will get applied
and set to its initial value on the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.done>zwp_input_method_v2.done</a></b>
event.<p>The initial value of cause is input_method.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>cause<td>uint&lt;<b><a href=/docs/wayland/text-input-unstable-v3/#zwp_text_input_v3.enums.change_cause>zwp_text_input_v3.change_cause</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.content_type href=#zwp_input_method_v2.content_type>zwp_input_method_v2.content_type</a></h3><p class=summary>content purpose and hint</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Indicates the content type and hint for the current
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> instance.<p>Values set with this event are double-buffered. They will get applied
on the next <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2.done>zwp_input_method_v2.done</a></b> event.<p>The initial value for hint is none, and the initial value for purpose
is normal.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>hint<td>uint&lt;<b><a href=/docs/wayland/text-input-unstable-v3/#zwp_text_input_v3.enums.content_hint>zwp_text_input_v3.content_hint</a></b>><td><p><tr><td>purpose<td>uint&lt;<b><a href=/docs/wayland/text-input-unstable-v3/#zwp_text_input_v3.enums.content_purpose>zwp_text_input_v3.content_purpose</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.done href=#zwp_input_method_v2.done>zwp_input_method_v2.done</a></h3><p class=summary>apply state</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Atomically applies state changes recently sent to the client.<p>The done event establishes and updates the state of the client, and
must be issued after any changes to apply them.<p>Text input state (content purpose, content hint, surrounding text, and
change cause) is conceptually double-buffered within an input method
context.<p>Events modify the pending state, as opposed to the current state in use
by the input method. A done event atomically applies all pending state,
replacing the current state. After done, the new pending state is as
documented for each related request.<p>Events must be applied in the order of arrival.<p>Neither current nor pending state are modified unless noted otherwise.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.unavailable href=#zwp_input_method_v2.unavailable>zwp_input_method_v2.unavailable</a></h3><p class=summary>input method unavailable</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The input method ceased to be available.<p>The compositor must issue this event as the only event on the object if
there was another input_method object associated with the same seat at
the time of its creation.<p>The compositor must issue this request when the object is no longer
usable, e.g. due to seat removal.<p>The input method context becomes inert and should be destroyed after
deactivation is handled. Any further requests and events except for the
destroy request must be ignored.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_v2.enums.error href=#zwp_input_method_v2.enums.error>zwp_input_method_v2.error</a></h3><p class=summary></div><div><b>Enum</b><br>Since Version 1</div></div></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>role<td>0<td>1<td><p>wl_surface has another role</table><div class=interface-head><div class=row><div><h2><a id=zwp_input_popup_surface_v2 href=#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></h2><p class=summary>popup surface</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>This interface marks a surface as a popup for interacting with an input
method.<p>The compositor should place it near the active text input area. It must
be visible if and only if the input method is in the active state.<p>The client must not destroy the underlying <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> while the
<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_popup_surface_v2>zwp_input_popup_surface_v2</a></b> object exists.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_popup_surface_v2.destroy href=#zwp_input_popup_surface_v2.destroy>zwp_input_popup_surface_v2.destroy</a></h3><p class=summary></div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=message-head><div class=row><div><h3><a id=zwp_input_popup_surface_v2.text_input_rectangle href=#zwp_input_popup_surface_v2.text_input_rectangle>zwp_input_popup_surface_v2.text_input_rectangle</a></h3><p class=summary>set text input area position</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Notify about the position of the area of the text input expressed as a
rectangle in surface local coordinates.<p>This is a hint to the input method telling it the relative position of
the text being entered.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>x<td>int<td><p><tr><td>y<td>int<td><p><tr><td>width<td>int<td><p><tr><td>height<td>int<td><p></table><div class=interface-head><div class=row><div><h2><a id=zwp_input_method_keyboard_grab_v2 href=#zwp_input_method_keyboard_grab_v2>zwp_input_method_keyboard_grab_v2</a></h2><p class=summary>keyboard grab</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>The <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_keyboard_grab_v2>zwp_input_method_keyboard_grab_v2</a></b> interface represents an exclusive
grab of the <b><a href=/docs/wayland/wayland/#wl_keyboard>wl_keyboard</a></b> interface associated with the seat.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_keyboard_grab_v2.release href=#zwp_input_method_keyboard_grab_v2.release>zwp_input_method_keyboard_grab_v2.release</a></h3><p class=summary>release the grab object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p></div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_keyboard_grab_v2.keymap href=#zwp_input_method_keyboard_grab_v2.keymap>zwp_input_method_keyboard_grab_v2.keymap</a></h3><p class=summary>keyboard mapping</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event provides a file descriptor to the client which can be
memory-mapped to provide a keyboard mapping description.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>format<td>uint&lt;<b><a href=/docs/wayland/wayland/#wl_keyboard.enums.keymap_format>wl_keyboard.keymap_format</a></b>><td><p>keymap format<tr><td>fd<td>fd<td><p>keymap file descriptor<tr><td>size<td>uint<td><p>keymap size, in bytes</table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_keyboard_grab_v2.key href=#zwp_input_method_keyboard_grab_v2.key>zwp_input_method_keyboard_grab_v2.key</a></h3><p class=summary>key event</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>A key was pressed or released.
The time argument is a timestamp with millisecond granularity, with an
undefined base.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>serial<td>uint<td><p>serial number of the key event<tr><td>time<td>uint<td><p>timestamp with millisecond granularity<tr><td>key<td>uint<td><p>key that produced the event<tr><td>state<td>uint&lt;<b><a href=/docs/wayland/wayland/#wl_keyboard.enums.key_state>wl_keyboard.key_state</a></b>><td><p>physical state of the key</table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_keyboard_grab_v2.modifiers href=#zwp_input_method_keyboard_grab_v2.modifiers>zwp_input_method_keyboard_grab_v2.modifiers</a></h3><p class=summary>modifier and group state</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Notifies clients that the modifier and/or group state has changed, and
it should update its local state.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>serial<td>uint<td><p>serial number of the modifiers event<tr><td>mods_depressed<td>uint<td><p>depressed modifiers<tr><td>mods_latched<td>uint<td><p>latched modifiers<tr><td>mods_locked<td>uint<td><p>locked modifiers<tr><td>group<td>uint<td><p>keyboard layout</table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_keyboard_grab_v2.repeat_info href=#zwp_input_method_keyboard_grab_v2.repeat_info>zwp_input_method_keyboard_grab_v2.repeat_info</a></h3><p class=summary>repeat rate and delay</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Informs the client about the keyboard's repeat rate and delay.<p>This event is sent as soon as the <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_keyboard_grab_v2>zwp_input_method_keyboard_grab_v2</a></b>
object has been created, and is guaranteed to be received by the
client before any key press event.<p>Negative values for either rate or delay are illegal. A rate of zero
will disable any repeating (regardless of the value of delay).<p>This event can be sent later on as well with a new value if necessary,
so clients should continue listening for the event past the creation
of <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_keyboard_grab_v2>zwp_input_method_keyboard_grab_v2</a></b>.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>rate<td>int<td><p>the rate of repeating keys in characters per second<tr><td>delay<td>int<td><p>delay in milliseconds since key down until repeating starts</table><div class=interface-head><div class=row><div><h2><a id=zwp_input_method_manager_v2 href=#zwp_input_method_manager_v2>zwp_input_method_manager_v2</a></h2><p class=summary>input method manager</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>The input method manager allows the client to become the input method on
a chosen seat.<p>No more than one input method must be associated with any seat at any
given time.</div><div class=message-head><div class=row><div><h3><a id=zwp_input_method_manager_v2.get_input_method href=#zwp_input_method_manager_v2.get_input_method>zwp_input_method_manager_v2.get_input_method</a></h3><p class=summary>request an input method object</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Request a new input <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> object associated with a given
seat.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>seat<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_seat>wl_seat</a></b>><td><p><tr><td>input_method<td>new_id&lt;<b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=zwp_input_method_manager_v2.destroy href=#zwp_input_method_manager_v2.destroy>zwp_input_method_manager_v2.destroy</a></h3><p class=summary>destroy the input method manager</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroys the <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_manager_v2>zwp_input_method_manager_v2</a></b> object.<p>The <b><a href=/docs/wayland/input-method-unstable-v2/#zwp_input_method_v2>zwp_input_method_v2</a></b> objects originating from it remain valid.</div><div class=interface-head><h2>Copyright</h2></div><div class=copyright><p><br>Copyright © 2008-2011 Kristian Høgsberg<br>Copyright © 2010-2011 Intel Corporation<br>Copyright © 2012-2013 Collabora, Ltd.<br>Copyright © 2012, 2013 Intel Corporation<br>Copyright © 2015, 2016 Jan Arne Petersen<br>Copyright © 2017, 2018 Red Hat, Inc.<br>Copyright © 2018 Purism SPC<br><br>Permission is hereby granted, free of charge, to any person obtaining a<br>copy of this software and associated documentation files (the "Software"),<br>to deal in the Software without restriction, including without limitation<br>the rights to use, copy, modify, merge, publish, distribute, sublicense,<br>and/or sell copies of the Software, and to permit persons to whom the<br>Software is furnished to do so, subject to the following conditions:<br><br>The above copyright notice and this permission notice (including the next<br>paragraph) shall be included in all copies or substantial portions of the<br>Software.<br><br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL<br>THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING<br>FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER<br>DEALINGS IN THE SOFTWARE.<br></div></div></main><footer><span class=line>© 2021-2026 Isaac Freund,</span>
<span class=line><a href=/impressum>Impressum</a>,</span>
<span class=line>Content <a href=/CC-BY-NC-SA-4.0.txt>CC-BY-NC-SA-4.0</a>,</span>
<span class=line><a href=https://codeberg.org/ifreund/website>Source Code</a> <a href=/AGPL-3.0-only.txt>AGPL-3.0-only</a></span></footer>