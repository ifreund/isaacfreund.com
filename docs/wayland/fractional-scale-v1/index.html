<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=icon href=/if.png><link rel=stylesheet href=/style.css><link rel=alternate href=/blog/feed.xml type=application/atom+xml title="Isaac Freund's Blog"><link rel=alternate href=/poetry/feed.xml type=application/atom+xml title="Isaac Freund's Poetry"><link rel=me href=https://hachyderm.io/@ifreund><header><nav><input type=checkbox id=toggle><div class=nav-bar><div class=nav-home><a href=/><svg viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="1" height="1"/><rect x="0" y="2" width="1" height="3"/><path d="M2 0h3v1H3v1h2v1H3v2H2V0z"/><rect x="4" y="4" width="1" height="1"/></svg></a></div><div class=menu><label for=toggle class=menu-button><svg class="menu-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="5" height="1"/><rect x="0" y="2" width="5" height="1"/><rect x="0" y="4" width="5" height="1"/></svg>
<svg class="close-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><line x1="0" y1="0" x2="5" y2="5"/><line x1="0" y1="5" x2="5" y2="0"/></svg></label></div></div></div><div class=nav-items><a href=/about>about</a>
<a href=/blog>blog</a>
<a href=/software>software</a>
<a href=/poetry>poetry</a>
<a href=/consulting>consulting</a></div></nav></header><main class="wayland-protocol fractional-scale-v1"><div class=title><div class=row><div><h1>fractional-scale-v1</h1><p class=summary>Protocol for requesting fractional surface scales</div><div><p>(<a href=/docs/wayland>back</a>)<p></div></div></div><div class=content><div class=description><p>This protocol allows a compositor to suggest for surfaces to render at
fractional scales.<p>A client can submit scaled content by utilizing <b><a href=/docs/wayland/viewporter/#wp_viewport>wp_viewport</a></b>. This is done by
creating a <b><a href=/docs/wayland/viewporter/#wp_viewport>wp_viewport</a></b> object for the surface and setting the destination
rectangle to the surface size before the scale factor is applied.<p>The buffer size is calculated by multiplying the surface size by the
intended scale.<p>The <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> buffer scale should remain set to 1.<p>If a surface has a surface-local size of 100 px by 50 px and wishes to
submit buffers with a scale of 1.5, then a buffer of 150px by 75 px should
be used and the <b><a href=/docs/wayland/viewporter/#wp_viewport>wp_viewport</a></b> destination rectangle should be 100 px by 50 px.<p>For toplevel surfaces, the size is rounded halfway away from zero. The
rounding algorithm for subsurface position and size is not defined.</div><div class=interface-head><div class=row><div><h2><a id=wp_fractional_scale_manager_v1 href=#wp_fractional_scale_manager_v1>wp_fractional_scale_manager_v1</a></h2><p class=summary>fractional surface scale information</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>A global interface for requesting surfaces to use fractional scales.</div><div class=message-head><div class=row><div><h3><a id=wp_fractional_scale_manager_v1.destroy href=#wp_fractional_scale_manager_v1.destroy>wp_fractional_scale_manager_v1.destroy</a></h3><p class=summary>unbind the fractional surface scale interface</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Informs the server that the client will not be using this protocol
object anymore. This does not affect any other objects,
<b><a href=/docs/wayland/fractional-scale-v1/#wp_fractional_scale_v1>wp_fractional_scale_v1</a></b> objects included.</div><div class=message-head><div class=row><div><h3><a id=wp_fractional_scale_manager_v1.get_fractional_scale href=#wp_fractional_scale_manager_v1.get_fractional_scale>wp_fractional_scale_manager_v1.get_fractional_scale</a></h3><p class=summary>extend surface interface for scale information</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Create an add-on object for the the <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> to let the compositor
request fractional scales. If the given <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> already has a
<b><a href=/docs/wayland/fractional-scale-v1/#wp_fractional_scale_v1>wp_fractional_scale_v1</a></b> object associated, the fractional_scale_exists
protocol error is raised.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/fractional-scale-v1/#wp_fractional_scale_v1>wp_fractional_scale_v1</a></b>><td><p>the new surface scale info interface id<tr><td>surface<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>><td><p>the surface</table><div class=message-head><div class=row><div><h3><a id=wp_fractional_scale_manager_v1.enums.error href=#wp_fractional_scale_manager_v1.enums.error>wp_fractional_scale_manager_v1.error</a></h3><p class=summary></div><div><b>Enum</b><br>Since Version 1</div></div></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>fractional_scale_exists<td>0<td>1<td><p>the surface already has a fractional_scale object associated</table><div class=interface-head><div class=row><div><h2><a id=wp_fractional_scale_v1 href=#wp_fractional_scale_v1>wp_fractional_scale_v1</a></h2><p class=summary>fractional scale interface to a wl_surface</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>An additional interface to a <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> object which allows the compositor
to inform the client of the preferred scale.</div><div class=message-head><div class=row><div><h3><a id=wp_fractional_scale_v1.destroy href=#wp_fractional_scale_v1.destroy>wp_fractional_scale_v1.destroy</a></h3><p class=summary>remove surface scale information for surface</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy the fractional scale object. When this object is destroyed,
preferred_scale events will no longer be sent.</div><div class=message-head><div class=row><div><h3><a id=wp_fractional_scale_v1.preferred_scale href=#wp_fractional_scale_v1.preferred_scale>wp_fractional_scale_v1.preferred_scale</a></h3><p class=summary>notify of new preferred scale</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Notification of a new preferred scale for this surface that the
compositor suggests that the client should use.<p>The sent scale is the numerator of a fraction with a denominator of 120.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>scale<td>uint<td><p>the new preferred scale</table><div class=interface-head><h2>Copyright</h2></div><div class=copyright><p><br>Copyright © 2022 Kenny Levinsen<br><br>Permission is hereby granted, free of charge, to any person obtaining a<br>copy of this software and associated documentation files (the "Software"),<br>to deal in the Software without restriction, including without limitation<br>the rights to use, copy, modify, merge, publish, distribute, sublicense,<br>and/or sell copies of the Software, and to permit persons to whom the<br>Software is furnished to do so, subject to the following conditions:<br><br>The above copyright notice and this permission notice (including the next<br>paragraph) shall be included in all copies or substantial portions of the<br>Software.<br><br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL<br>THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING<br>FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER<br>DEALINGS IN THE SOFTWARE.<br></div></div></main><footer><span class=line>© 2021-2026 Isaac Freund,</span>
<span class=line><a href=/impressum>Impressum</a>,</span>
<span class=line>Content <a href=/CC-BY-NC-SA-4.0.txt>CC-BY-NC-SA-4.0</a>,</span>
<span class=line><a href=https://codeberg.org/ifreund/website>Source Code</a> <a href=/AGPL-3.0-only.txt>AGPL-3.0-only</a></span></footer>