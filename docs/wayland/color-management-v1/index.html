<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=icon href=/if.png><link rel=stylesheet href=/style.css><link rel=alternate href=/blog/feed.xml type=application/atom+xml title="Isaac Freund's Blog"><link rel=alternate href=/poetry/feed.xml type=application/atom+xml title="Isaac Freund's Poetry"><link rel=me href=https://hachyderm.io/@ifreund><header><nav><input type=checkbox id=toggle><div class=nav-bar><div class=nav-home><a href=/><svg viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="1" height="1"/><rect x="0" y="2" width="1" height="3"/><path d="M2 0h3v1H3v1h2v1H3v2H2V0z"/><rect x="4" y="4" width="1" height="1"/></svg></a></div><div class=menu><label for=toggle class=menu-button><svg class="menu-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="5" height="1"/><rect x="0" y="2" width="5" height="1"/><rect x="0" y="4" width="5" height="1"/></svg>
<svg class="close-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><line x1="0" y1="0" x2="5" y2="5"/><line x1="0" y1="5" x2="5" y2="0"/></svg></label></div></div></div><div class=nav-items><a href=/about>about</a>
<a href=/blog>blog</a>
<a href=/software>software</a>
<a href=/poetry>poetry</a>
<a href=/consulting>consulting</a></div></nav></header><main class="wayland-protocol color-management-v1"><div class=title><div class=row><div><h1>color-management-v1</h1><p class=summary>color management protocol</div><div><p>(<a href=/docs/wayland>index</a>)<p></div></div></div><div class=content><div class=description><p>The aim of the color management extension is to allow clients to know
the color properties of outputs, and to tell the compositor about the color
properties of their content on surfaces. All surface contents must be
readily intended for some display, but not necessarily for the display at
hand. Doing this enables a compositor to perform automatic color management
of content for different outputs according to how content is intended to
look like.<p>For an introduction, see the section "Color management" in the Wayland
documentation at https://wayland.freedesktop.org/docs/html/ .<p>The color properties are represented as an image description object which
is immutable after it has been created. A <b><a href=/docs/wayland/wayland/#wl_output>wl_output</a></b> always has an
associated image description that clients can observe. A <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>
always has an associated preferred image description as a hint chosen by
the compositor that clients can also observe. Clients can set an image
description on a <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> to denote the color characteristics of the
surface contents.<p>An image description essentially defines a display and (indirectly) its
viewing environment. An image description includes SDR and HDR colorimetry
and encoding, HDR metadata, and some parameters related to the viewing
environment. An image description does not include the properties set
through color-representation extension. It is expected that the
color-representation extension is used in conjunction with the
color-management extension when necessary, particularly with the YUV family
of pixel formats.<p>The normative appendix for this protocol is in the appendix.md file beside
this XML file.<p>The color-and-hdr repository
(https://gitlab.freedesktop.org/pq/color-and-hdr) contains
background information on the protocol design and legacy color management.
It also contains a glossary, learning resources for digital color, tools,
samples and more.<p>The terminology used in this protocol is based on common color science and
color encoding terminology where possible. The glossary in the color-and-hdr
repository shall be the authority on the definition of terms in this
protocol.<p>Warning! The protocol described in this file is currently in the testing
phase. Backward compatible changes may be added together with the
corresponding interface version bump. Backward incompatible changes can
only be done by creating a new major version of the extension.</div><div class=interface-head><div class=row><div><h2><a id=wp_color_manager_v1 href=#wp_color_manager_v1>wp_color_manager_v1</a></h2><p class=summary>color manager singleton</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>A singleton global interface used for getting color management extensions
for <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> and <b><a href=/docs/wayland/wayland/#wl_output>wl_output</a></b> objects, and for creating client defined
image description objects. The extension interfaces allow
getting the image description of outputs and setting the image
description of surfaces.<p>Compositors should never remove this global.</div><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.destroy href=#wp_color_manager_v1.destroy>wp_color_manager_v1.destroy</a></h3><p class=summary>destroy the color manager</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy the <b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1>wp_color_manager_v1</a></b> object. This does not affect any other
objects in any way.</div><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.get_output href=#wp_color_manager_v1.get_output>wp_color_manager_v1.get_output</a></h3><p class=summary>create a color management interface for a wl_output</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>This creates a new <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> object for the
given wl_output.<p>See the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> interface for more details.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b>><td><p><tr><td>output<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_output>wl_output</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.get_surface href=#wp_color_manager_v1.get_surface>wp_color_manager_v1.get_surface</a></h3><p class=summary>create a color management interface for a wl_surface</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>If a <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> object already exists for the given
wl_surface, the protocol error surface_exists is raised.<p>This creates a new color <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> object for the
given wl_surface.<p>See the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> interface for more details.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b>><td><p><tr><td>surface<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.get_surface_feedback href=#wp_color_manager_v1.get_surface_feedback>wp_color_manager_v1.get_surface_feedback</a></h3><p class=summary>create a color management feedback interface</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>This creates a new color <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b> object
for the given wl_surface.<p>See the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b> interface for more
details.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b>><td><p><tr><td>surface<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.create_icc_creator href=#wp_color_manager_v1.create_icc_creator>wp_color_manager_v1.create_icc_creator</a></h3><p class=summary>make a new ICC-based image description creator object</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Makes a new ICC-based image description creator object with all
properties initially unset. The client can then use the object's
interface to define all the required properties for an image description
and finally create a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object.<p>This request can be used when the compositor advertises
wp_color_manager_v1.feature.icc_v2_v4.
Otherwise this request raises the protocol error unsupported_feature.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>obj<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_creator_icc_v1>wp_image_description_creator_icc_v1</a></b>><td><p>the new creator object</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.create_parametric_creator href=#wp_color_manager_v1.create_parametric_creator>wp_color_manager_v1.create_parametric_creator</a></h3><p class=summary>make a new parametric image description creator object</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Makes a new parametric image description creator object with all
properties initially unset. The client can then use the object's
interface to define all the required properties for an image description
and finally create a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object.<p>This request can be used when the compositor advertises
wp_color_manager_v1.feature.parametric.
Otherwise this request raises the protocol error unsupported_feature.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>obj<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_creator_params_v1>wp_image_description_creator_params_v1</a></b>><td><p>the new creator object</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.create_windows_scrgb href=#wp_color_manager_v1.create_windows_scrgb>wp_color_manager_v1.create_windows_scrgb</a></h3><p class=summary>create Windows-scRGB image description object</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>This creates a pre-defined image description for the so-called
Windows-scRGB stimulus encoding. This comes from the Windows 10 handling
of its own definition of an scRGB color space for an HDR screen
driven in BT.2100/PQ signalling mode.<p>Windows-scRGB uses sRGB (BT.709) color primaries and white point.
The transfer characteristic is extended linear.<p>The nominal color channel value range is extended, meaning it includes
negative and greater than 1.0 values. Negative values are used to
escape the sRGB color gamut boundaries. To make use of the extended
range, the client needs to use a pixel format that can represent those
values, e.g. floating-point 16 bits per channel.<p>Nominal color value R=G=B=0.0 corresponds to BT.2100/PQ system
0 cd/m², and R=G=B=1.0 corresponds to BT.2100/PQ system 80 cd/m².
The maximum is R=G=B=125.0 corresponding to 10k cd/m².<p>Windows-scRGB is displayed by Windows 10 by converting it to
BT.2100/PQ, maintaining the CIE 1931 chromaticity and mapping the
luminance as above. No adjustment is made to the signal to account
for the viewing conditions.<p>The reference white level of Windows-scRGB is unknown. If a
reference white level must be assumed for compositor processing, it
should be R=G=B=2.5375 corresponding to 203 cd/m² of Report ITU-R
BT.2408-7.<p>The target color volume of Windows-scRGB is unknown. The color gamut
may be anything between sRGB and BT.2100.<p>Note: EGL_EXT_gl_colorspace_scrgb_linear definition differs from
Windows-scRGB by using R=G=B=1.0 as the reference white level, while
Windows-scRGB reference white level is unknown or varies. However,
it seems probable that Windows implements both
EGL_EXT_gl_colorspace_scrgb_linear and Vulkan
VK_COLOR_SPACE_EXTENDED_SRGB_LINEAR_EXT as Windows-scRGB.<p>This request can be used when the compositor advertises
wp_color_manager_v1.feature.windows_scrgb.
Otherwise this request raises the protocol error unsupported_feature.<p>The resulting image description object does not allow get_information
request. The <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.ready>wp_image_description_v1.ready</a></b> event shall be sent.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.get_image_description href=#wp_color_manager_v1.get_image_description>wp_color_manager_v1.get_image_description</a></h3><p class=summary>create an image description from a reference</div><div><b>Request</b><br>Since Version 2</div></div></div><div class=description><p>This request retrieves the image description backing a reference.<p>The get_information request can be used if and only if the request that
creates the reference allows it.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p><tr><td>reference<td>object&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_reference_v1>wp_image_description_reference_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.supported_intent href=#wp_color_manager_v1.supported_intent>wp_color_manager_v1.supported_intent</a></h3><p class=summary>supported rendering intent</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>When this object is created, it shall immediately send this event once
for each rendering intent the compositor supports.<p>A compositor must not advertise intents that are deprecated in the
bound version of the interface.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>render_intent<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.render_intent>render_intent</a></b>><td><p>rendering intent</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.supported_feature href=#wp_color_manager_v1.supported_feature>wp_color_manager_v1.supported_feature</a></h3><p class=summary>supported features</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>When this object is created, it shall immediately send this event once
for each compositor supported feature listed in the enumeration.<p>A compositor must not advertise features that are deprecated in the
bound version of the interface.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>feature<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.feature>feature</a></b>><td><p>supported feature</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.supported_tf_named href=#wp_color_manager_v1.supported_tf_named>wp_color_manager_v1.supported_tf_named</a></h3><p class=summary>supported named transfer characteristic</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>When this object is created, it shall immediately send this event once
for each named transfer function the compositor supports with the
parametric image description creator.<p>A compositor must not advertise transfer functions that are deprecated
in the bound version of the interface.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>tf<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.transfer_function>transfer_function</a></b>><td><p>Named transfer function</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.supported_primaries_named href=#wp_color_manager_v1.supported_primaries_named>wp_color_manager_v1.supported_primaries_named</a></h3><p class=summary>supported named primaries</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>When this object is created, it shall immediately send this event once
for each named set of primaries the compositor supports with the
parametric image description creator.<p>A compositor must not advertise names that are deprecated in the
bound version of the interface.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>primaries<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.primaries>primaries</a></b>><td><p>Named color primaries</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.done href=#wp_color_manager_v1.done>wp_color_manager_v1.done</a></h3><p class=summary>all features have been sent</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event is sent when all supported rendering intents, features,
transfer functions and named primaries have been sent.</div><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.enums.error href=#wp_color_manager_v1.enums.error>wp_color_manager_v1.error</a></h3><p class=summary></div><div><b>Enum</b><br>Since Version 1</div></div></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>unsupported_feature<td>0<td>1<td><p>request not supported<tr><td>surface_exists<td>1<td>1<td><p>color management surface exists already</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.enums.render_intent href=#wp_color_manager_v1.enums.render_intent>wp_color_manager_v1.render_intent</a></h3><p class=summary>rendering intents</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p>See the ICC.1:2022 specification from the International Color Consortium
for more details about rendering intents.<p>The principles of ICC defined rendering intents apply with all types of
image descriptions, not only those with ICC file profiles.<p>Compositors must support the perceptual rendering intent. Other
rendering intents are optional.</div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>perceptual<td>0<td>1<td><p>perceptual<tr><td>relative<td>1<td>1<td><p>media-relative colorimetric<tr><td>saturation<td>2<td>1<td><p>saturation<tr><td>absolute<td>3<td>1<td><p>ICC-absolute colorimetric<tr><td>relative_bpc<td>4<td>1<td><p>media-relative colorimetric + black point compensation<tr><td>absolute_no_adaptation<td>5<td>2<td><p>ICC-absolute colorimetric without adaptation<div class=description><p>This rendering intent is a modified absolute rendering intent that
assumes the viewer is not adapted to the display white point, so no
chromatic adaptation between surface and display is done.
This can be useful for color proofing applications.</div></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.enums.feature href=#wp_color_manager_v1.enums.feature>wp_color_manager_v1.feature</a></h3><p class=summary>compositor supported features</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>icc_v2_v4<td>0<td>1<td><p>create_icc_creator request<tr><td>parametric<td>1<td>1<td><p>create_parametric_creator request<tr><td>set_primaries<td>2<td>1<td><p>parametric set_primaries request<tr><td>set_tf_power<td>3<td>1<td><p>parametric set_tf_power request<tr><td>set_luminances<td>4<td>1<td><p>parametric set_luminances request<tr><td>set_mastering_display_primaries<td>5<td>1<td><p>parametric set_mastering_display_primaries request<div class=description><p>The compositor supports set_mastering_display_primaries request with a
target color volume fully contained inside the primary color volume.</div><tr><td>extended_target_volume<td>6<td>1<td><p>parametric target exceeds primary color volume<div class=description><p>The compositor additionally supports target color volumes that
extend outside of the primary color volume.<p>This can only be advertised if feature set_mastering_display_primaries
is supported as well.</div><tr><td>windows_scrgb<td>7<td>1<td><p>create_windows_scrgb request</table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.enums.primaries href=#wp_color_manager_v1.enums.primaries>wp_color_manager_v1.primaries</a></h3><p class=summary>named color primaries</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p>Named color primaries used to encode well-known sets of primaries.<p>A value of 0 is invalid and will never be present in the list of enums.</div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>srgb<td>1<td>1<td><p>Color primaries for the sRGB color space as defined by the BT.709 standard<div class=description><p>Color primaries as defined by
- Rec. ITU-R BT.709-6
- Rec. ITU-R BT.1361-0 conventional colour gamut system and extended
colour gamut system (historical)
- IEC 61966-2-1 sRGB or sYCC
- IEC 61966-2-4
- Society of Motion Picture and Television Engineers (SMPTE) RP 177
(1993) Annex B</div><tr><td>pal_m<td>2<td>1<td><p>Color primaries for PAL-M as defined by the BT.470 standard<div class=description><p>Color primaries as defined by
- Rec. ITU-R BT.470-6 System M (historical)
- United States National Television System Committee 1953
Recommendation for transmission standards for color television
- United States Federal Communications Commission (2003) Title 47 Code
of Federal Regulations 73.682 (a)(20)</div><tr><td>pal<td>3<td>1<td><p>Color primaries for PAL as defined by the BT.601 standard<div class=description><p>Color primaries as defined by
- Rec. ITU-R BT.470-6 System B, G (historical)
- Rec. ITU-R BT.601-7 625
- Rec. ITU-R BT.1358-0 625 (historical)
- Rec. ITU-R BT.1700-0 625 PAL and 625 SECAM</div><tr><td>ntsc<td>4<td>1<td><p>Color primaries for NTSC as defined by the BT.601 standard<div class=description><p>Color primaries as defined by
- Rec. ITU-R BT.601-7 525
- Rec. ITU-R BT.1358-1 525 or 625 (historical)
- Rec. ITU-R BT.1700-0 NTSC
- SMPTE 170M (2004)
- SMPTE 240M (1999) (historical)</div><tr><td>generic_film<td>5<td>1<td><p>Generic film with colour filters using Illuminant C<div class=description><p>Color primaries as defined by Recommendation ITU-T H.273
"Coding-independent code points for video signal type identification"
for "generic film".</div><tr><td>bt2020<td>6<td>1<td><p>Color primaries as defined by the BT.2020 and BT.2100 standard<div class=description><p>Color primaries as defined by
- Rec. ITU-R BT.2020-2
- Rec. ITU-R BT.2100-0</div><tr><td>cie1931_xyz<td>7<td>1<td><p>Color primaries of the full CIE 1931 XYZ color space<div class=description><p>Color primaries as defined as the maximum of the CIE 1931 XYZ color
space by
- SMPTE ST 428-1
- (CIE 1931 XYZ as in ISO 11664-1)</div><tr><td>dci_p3<td>8<td>1<td><p>Color primaries of the DCI P3 color space as defined by the SMPTE RP 431 standard<div class=description><p>Color primaries as defined by Digital Cinema System and published in
SMPTE RP 431-2 (2011).</div><tr><td>display_p3<td>9<td>1<td><p>Color primaries of Display P3 variant of the DCI-P3 color space as defined by the SMPTE EG 432 standard<div class=description><p>Color primaries as defined by Digital Cinema System and published in
SMPTE EG 432-1 (2010).</div><tr><td>adobe_rgb<td>10<td>1<td><p>Color primaries of the Adobe RGB color space as defined by the ISO 12640 standard<div class=description><p>Color primaries as defined by Adobe as "Adobe RGB" and later published
by ISO 12640-4 (2011).</div></table><div class=message-head><div class=row><div><h3><a id=wp_color_manager_v1.enums.transfer_function href=#wp_color_manager_v1.enums.transfer_function>wp_color_manager_v1.transfer_function</a></h3><p class=summary>named transfer functions</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p>Named transfer functions used to represent well-known transfer
characteristics of displays.<p>A value of 0 is invalid and will never be present in the list of enums.<p>See appendix.md for the formulae.</div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>bt1886<td>1<td>1<td><p>BT.1886 display transfer characteristic<div class=description><p>Rec. ITU-R BT.1886 is the display transfer characteristic assumed by
- Rec. ITU-R BT.601-7 525 and 625
- Rec. ITU-R BT.709-6
- Rec. ITU-R BT.2020-2<p>This TF implies these default luminances from Rec. ITU-R BT.2035:
- primary color volume minimum: 0.01 cd/m²
- primary color volume maximum: 100 cd/m²
- reference white: 100 cd/m²</div><tr><td>gamma22<td>2<td>1<td><p>Assumed display gamma 2.2 transfer function<div class=description><p>Transfer characteristics as defined by
- Rec. ITU-R BT.470-6 System M (historical)
- United States National Television System Committee 1953
Recommendation for transmission standards for color television
- United States Federal Communications Commission (2003) Title 47 Code
of Federal Regulations 73.682 (a) (20)
- Rec. ITU-R BT.1700-0 625 PAL and 625 SECAM
- IEC 61966-2-1 (reference display)</div><tr><td>gamma28<td>3<td>1<td><p>Assumed display gamma 2.8 transfer function<div class=description><p>Transfer characteristics as defined by
- Rec. ITU-R BT.470-6 System B, G (historical)</div><tr><td>st240<td>4<td>1<td><p>SMPTE ST 240 transfer function<div class=description><p>Transfer characteristics as defined by
- SMPTE ST 240 (1999)</div><tr><td>ext_linear<td>5<td>1<td><p>extended linear transfer function<div class=description><p>Linear transfer function defined over all real numbers.
Normalised electrical values are equal the normalised optical values.</div><tr><td>log_100<td>6<td>1<td><p>logarithmic 100:1 transfer function<div class=description><p>Logarithmic transfer characteristic (100:1 range).</div><tr><td>log_316<td>7<td>1<td><p>logarithmic (100*Sqrt(10) : 1) transfer function<div class=description><p>Logarithmic transfer characteristic (100 * Sqrt(10) : 1 range).</div><tr><td>xvycc<td>8<td>1<td><p>IEC 61966-2-4 transfer function<div class=description><p>Transfer characteristics as defined by
- IEC 61966-2-4</div><tr><td>srgb<td>9<td>1<td><p>Deprecated (ambiguous sRGB transfer function)<div class=description><p>Transfer characteristics as defined by
- IEC 61966-2-1 sRGB<p>As a rule of thumb, use gamma22 for video, motion picture and
computer graphics, or compound_power_2_4 for ICC calibrated print
workflows.</div><tr><td>ext_srgb<td>10<td>1<td><p>Deprecated (Extended sRGB piece-wise transfer function)<div class=description><p>Transfer characteristics as defined by
- IEC 61966-2-1 sYCC</div><tr><td>st2084_pq<td>11<td>1<td><p>perceptual quantizer transfer function<div class=description><p>Transfer characteristics as defined by
- SMPTE ST 2084 (2014) for 10-, 12-, 14- and 16-bit systems
- Rec. ITU-R BT.2100-2 perceptual quantization (PQ) system<p>This TF implies these default luminances
- primary color volume minimum: 0.005 cd/m²
- primary color volume maximum: 10000 cd/m²
- reference white: 203 cd/m²<p>The difference between the primary color volume minimum and maximum
must be approximately 10000 cd/m² as that is the swing of the EOTF
defined by ST 2084 and BT.2100. The default value for the
reference white is a protocol addition: it is suggested by
Report ITU-R BT.2408-7 and is not part of ST 2084 or BT.2100.</div><tr><td>st428<td>12<td>1<td><p>SMPTE ST 428 transfer function<div class=description><p>Transfer characteristics as defined by
- SMPTE ST 428-1 (2019)</div><tr><td>hlg<td>13<td>1<td><p>hybrid log-gamma transfer function<div class=description><p>Transfer characteristics as defined by
- ARIB STD-B67 (2015)
- Rec. ITU-R BT.2100-2 hybrid log-gamma (HLG) system<p>This TF implies these default luminances
- primary color volume minimum: 0.005 cd/m²
- primary color volume maximum: 1000 cd/m²
- reference white: 203 cd/m²<p>HLG is a relative display-referred signal with a specified
non-linear mapping to the display peak luminance (the HLG OOTF).
All absolute luminance values used here for HLG assume a 1000 cd/m²
peak display.<p>The default value for the reference white is a protocol addition:
it is suggested by Report ITU-R BT.2408-7 and is not part of
ARIB STD-B67 or BT.2100.</div><tr><td>compound_power_2_4<td>14<td>2<td><p>IEC 61966-2-1 encoding function<div class=description><p>Encoding characteristics as defined by IEC 61966-2-1, for displays
that invert the encoding function.</div></table><div class=interface-head><div class=row><div><h2><a id=wp_color_management_output_v1 href=#wp_color_management_output_v1>wp_color_management_output_v1</a></h2><p class=summary>output color properties</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>A <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> describes the color properties of an
output.<p>The <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> is associated with the <b><a href=/docs/wayland/wayland/#wl_output>wl_output</a></b> global
underlying the <b><a href=/docs/wayland/wayland/#wl_output>wl_output</a></b> object. Therefore the client destroying the
<b><a href=/docs/wayland/wayland/#wl_output>wl_output</a></b> object has no impact, but the compositor removing the output
global makes the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> object inert.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_output_v1.destroy href=#wp_color_management_output_v1.destroy>wp_color_management_output_v1.destroy</a></h3><p class=summary>destroy the color management output</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy the color <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> object. This does not
affect any remaining protocol objects.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_output_v1.get_image_description href=#wp_color_management_output_v1.get_image_description>wp_color_management_output_v1.get_image_description</a></h3><p class=summary>get the image description of the output</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>This creates a new <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object for the current image
description of the output. There always is exactly one image description
active for an output so the client should destroy the image description
created by earlier invocations of this request. This request is usually
sent as a reaction to the <b><a href=/docs/wayland/color-management-v1/))#wp_color_management_output_v1.image_description_changed>image_description_changed</a></b> event or when
creating a <b><a href=/docs/wayland/color-management-v1/#wp_color_management_output_v1>wp_color_management_output_v1</a></b> object.<p>The image description of an output represents the color encoding the
output expects. There might be performance and power advantages, as well
as improved color reproduction, if a content update matches the image
description of the output it is being shown on. If a content update is
shown on any other output than the one it matches the image description
of, then the color reproduction on those outputs might be considerably
worse.<p>The created <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object preserves the image
description of the output from the time the object was created.<p>The resulting image description object allows get_information request.<p>If this protocol object is inert, the resulting image description object
shall immediately deliver the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event with
the no_output cause.<p>If the interface version is inadequate for the output's image
description, meaning that the client does not support all the events
needed to deliver the crucial information, the resulting image
description object shall immediately deliver the
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event with the low_version cause.<p>Otherwise the object shall immediately deliver the ready event.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_management_output_v1.image_description_changed href=#wp_color_management_output_v1.image_description_changed>wp_color_management_output_v1.image_description_changed</a></h3><p class=summary>image description changed</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>This event is sent whenever the image description of the output changed,
followed by one <b><a href=/docs/wayland/wayland/#wl_output.done>wl_output.done</a></b> event common to output events across all
extensions.<p>If the client wants to use the updated image description, it needs to do
<b><a href=/docs/wayland/color-management-v1/))#wp_color_management_output_v1.get_image_description>get_image_description</a></b> again, because image description objects are
immutable.</div><div class=interface-head><div class=row><div><h2><a id=wp_color_management_surface_v1 href=#wp_color_management_surface_v1>wp_color_management_surface_v1</a></h2><p class=summary>color management extension to a surface</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>A <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> allows the client to set the color
space and HDR properties of a surface.<p>If the <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> associated with the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> is
destroyed, the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> object becomes inert.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_v1.destroy href=#wp_color_management_surface_v1.destroy>wp_color_management_surface_v1.destroy</a></h3><p class=summary>destroy the color management interface for a surface</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1>wp_color_management_surface_v1</a></b> object and do the same as
unset_image_description.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_v1.set_image_description href=#wp_color_management_surface_v1.set_image_description>wp_color_management_surface_v1.set_image_description</a></h3><p class=summary>set the surface image description</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>If this protocol object is inert, the protocol error inert is raised.<p>Set the image description of the underlying surface. The image
description and rendering intent are double-buffered state, see
wl_surface.commit.<p>It is the client's responsibility to understand the image description
it sets on a surface, and to provide content that matches that image
description. Compositors might convert images to match their own or any
other image descriptions.<p>Image descriptions which are not ready (see wp_image_description_v1)
are forbidden in this request, and in such case the protocol error
image_description is raised.<p>All image descriptions which are ready (see wp_image_description_v1)
are allowed and must always be accepted by the compositor.<p>When an image description is set on a surface, it establishes an
explicit link between surface pixel values and surface colorimetry.
This link may be undefined for some pixel values, see the image
description creator interfaces for the conditions. Non-finite
floating-point values (NaN, Inf) always have an undefined colorimetry.<p>A rendering intent provides the client's preference on how surface
colorimetry should be mapped to each output. The render_intent value
must be one advertised by the compositor with
<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.render_intent>wp_color_manager_v1.enums.render_intent</a></b> event, otherwise the protocol error
render_intent is raised.<p>By default, a surface does not have an associated image description
nor a rendering intent. The handling of color on such surfaces is
compositor implementation defined. Compositors should handle such
surfaces as sRGB, but may handle them differently if they have specific
requirements.<p>Setting the image description has copy semantics; after this request,
the image description can be immediately destroyed without affecting
the pending state of the surface.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>object&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p><tr><td>render_intent<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.render_intent>wp_color_manager_v1.render_intent</a></b>><td><p>rendering intent</table><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_v1.unset_image_description href=#wp_color_management_surface_v1.unset_image_description>wp_color_management_surface_v1.unset_image_description</a></h3><p class=summary>remove the surface image description</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>If this protocol object is inert, the protocol error inert is raised.<p>This request removes any image description from the surface. See
<b><a href=/docs/wayland/color-management-v1/))#wp_color_management_surface_v1.set_image_description>set_image_description</a></b> for how a compositor handles a surface without
an image description. This is double-buffered state, see
wl_surface.commit.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_v1.enums.error href=#wp_color_management_surface_v1.enums.error>wp_color_management_surface_v1.error</a></h3><p class=summary>protocol errors</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>render_intent<td>0<td>1<td><p>unsupported rendering intent<tr><td>image_description<td>1<td>1<td><p>invalid image description<tr><td>inert<td>2<td>1<td><p>forbidden request on inert object</table><div class=interface-head><div class=row><div><h2><a id=wp_color_management_surface_feedback_v1 href=#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></h2><p class=summary>color management extension to a surface</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>A <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b> allows the client to get the
preferred image description of a surface.<p>If the <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> associated with this object is destroyed, the
<b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b> object becomes inert.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_feedback_v1.destroy href=#wp_color_management_surface_feedback_v1.destroy>wp_color_management_surface_feedback_v1.destroy</a></h3><p class=summary>destroy the color management interface for a surface</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy the <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b> object.</div><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_feedback_v1.get_preferred href=#wp_color_management_surface_feedback_v1.get_preferred>wp_color_management_surface_feedback_v1.get_preferred</a></h3><p class=summary>get the preferred image description</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>If this protocol object is inert, the protocol error inert is raised.<p>The preferred image description represents the compositor's preferred
color encoding for this <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> at the current time. There might be
performance and power advantages, as well as improved color
reproduction, if the image description of a content update matches the
preferred image description.<p>This creates a new <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object for the currently
preferred image description for the wl_surface. The client should
stop using and destroy the image descriptions created by earlier
invocations of this request for the associated wl_surface.
This request is usually sent as a reaction to the <b><a href=/docs/wayland/color-management-v1/))#wp_color_management_surface_feedback_v1.preferred_changed>preferred_changed</a></b>
event or when creating a <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_feedback_v1>wp_color_management_surface_feedback_v1</a></b> object
if the client is capable of adapting to image descriptions.<p>The created <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object preserves the preferred image
description of the <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> from the time the object was created.<p>The resulting image description object allows get_information request.<p>If the image description is parametric, the client should set it on its
<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> only if the image description is an exact match with the
client content. Particularly if everything else matches, but the target
color volume is greater than what the client needs, the client should
create its own parameric image description with its exact parameters.<p>If the interface version is inadequate for the preferred image
description, meaning that the client does not support all the
events needed to deliver the crucial information, the resulting image
description object shall immediately deliver the
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event with the low_version cause,
otherwise the object shall immediately deliver the ready event.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_feedback_v1.get_preferred_parametric href=#wp_color_management_surface_feedback_v1.get_preferred_parametric>wp_color_management_surface_feedback_v1.get_preferred_parametric</a></h3><p class=summary>get the preferred image description</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>The same description as for <b><a href=/docs/wayland/color-management-v1/))#wp_color_management_surface_feedback_v1.get_preferred>get_preferred</a></b> applies, except the returned
image description is guaranteed to be parametric. This is meant for
clients that can only deal with parametric image descriptions.<p>If the compositor doesn't support parametric image descriptions, the
unsupported_feature error is emitted.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_feedback_v1.preferred_changed href=#wp_color_management_surface_feedback_v1.preferred_changed>wp_color_management_surface_feedback_v1.preferred_changed</a></h3><p class=summary>the preferred image description changed (32-bit)</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Starting from interface version 2, 'preferred_changed2' is sent instead
of this event. See the 'preferred_changed2' event for the definition.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>identity<td>uint<td><p>the 32-bit image description id number</table><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_feedback_v1.preferred_changed2 href=#wp_color_management_surface_feedback_v1.preferred_changed2>wp_color_management_surface_feedback_v1.preferred_changed2</a></h3><p class=summary>the preferred image description changed</div><div><b>Event</b><br>Since Version 2</div></div></div><div class=description><p>The preferred image description is the one which likely has the most
performance and/or quality benefits for the compositor if used by the
client for its <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> contents. This event is sent whenever the
compositor changes the wl_surface's preferred image description.<p>This event sends the identity of the new preferred state as the argument,
so clients who are aware of the image description already can reuse it.
Otherwise, if the client client wants to know what the preferred image
description is, it shall use the <b><a href=/docs/wayland/color-management-v1/))#wp_color_management_surface_feedback_v1.get_preferred>get_preferred</a></b> request.<p>The preferred image description is not automatically used for anything.
It is only a hint, and clients may set any valid image description with
set_image_description, but there might be performance and color accuracy
improvements by providing the <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> contents in the preferred
image description. Therefore clients that can, should render according
to the preferred image description</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>identity_hi<td>uint<td><p>high 32 bits of the 64-bit image description id number<tr><td>identity_lo<td>uint<td><p>low 32 bits of the 64-bit image description id number</table><div class=message-head><div class=row><div><h3><a id=wp_color_management_surface_feedback_v1.enums.error href=#wp_color_management_surface_feedback_v1.enums.error>wp_color_management_surface_feedback_v1.error</a></h3><p class=summary>protocol errors</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>inert<td>0<td>1<td><p>forbidden request on inert object<tr><td>unsupported_feature<td>1<td>1<td><p>attempted to use an unsupported feature</table><div class=interface-head><div class=row><div><h2><a id=wp_image_description_creator_icc_v1 href=#wp_image_description_creator_icc_v1>wp_image_description_creator_icc_v1</a></h2><p class=summary>holder of image description ICC information</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>This type of object is used for collecting all the information required
to create a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object from an ICC file. A complete
set of required parameters consists of these properties:
- ICC file<p>Each required property must be set exactly once if the client is to create
an image description. The set requests verify that a property was not
already set. The create request verifies that all required properties are
set. There may be several alternative requests for setting each property,
and in that case the client must choose one of them.<p>Once all properties have been set, the create request must be used to
create the image description object, destroying the creator in the
process.<p>The link between a pixel value (a device value in ICC) and its respective
colorimetry is defined by the details of the particular ICC profile.
Those details also determine when colorimetry becomes undefined.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_icc_v1.create href=#wp_image_description_creator_icc_v1.create>wp_image_description_creator_icc_v1.create</a></h3><p class=summary>Create the image description object from ICC data</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Create an image description object based on the ICC information
previously set on this object. A compositor must parse the ICC data in
some undefined but finite amount of time.<p>The completeness of the parameter set is verified. If the set is not
complete, the protocol error incomplete_set is raised. For the
definition of a complete set, see the description of this interface.<p>If the particular combination of the information is not supported
by the compositor, the resulting image description object shall
immediately deliver the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event with the
'unsupported' cause. If a valid image description was created from the
information, the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.ready>wp_image_description_v1.ready</a></b> event will eventually
be sent instead.<p>This request destroys the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_creator_icc_v1>wp_image_description_creator_icc_v1</a></b> object.<p>The resulting image description object does not allow get_information
request.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_icc_v1.set_icc_file href=#wp_image_description_creator_icc_v1.set_icc_file>wp_image_description_creator_icc_v1.set_icc_file</a></h3><p class=summary>set the ICC profile file</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the ICC profile file to be used as the basis of the image
description.<p>The data shall be found through the given fd at the given offset, having
the given length. The fd must be seekable and readable. Violating these
requirements raises the bad_fd protocol error.<p>If reading the data fails due to an error independent of the client, the
compositor shall send the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event on the
created <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> with the 'operating_system' cause.<p>The maximum size of the ICC profile is 32 MB. If length is greater than
that or zero, the protocol error bad_size is raised. If offset + length
exceeds the file size, the protocol error out_of_file is raised.<p>A compositor may read the file at any time starting from this request
and only until whichever happens first:
- If create request was issued, the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object
delivers either failed or ready event; or
- if create request was not issued, this
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_creator_icc_v1>wp_image_description_creator_icc_v1</a></b> object is destroyed.<p>A compositor shall not modify the contents of the file, and the fd may
be sealed for writes and size changes. The client must ensure to its
best ability that the data does not change while the compositor is
reading it.<p>The data must represent a valid ICC profile. The ICC profile version
must be 2 or 4, it must be a 3 channel profile and the class must be
Display or ColorSpace. Violating these requirements will not result in a
protocol error, but will eventually send the
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event on the created
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> with the 'unsupported' cause.<p>See the International Color Consortium specification ICC.1:2022 for more
details about ICC profiles.<p>If ICC file has already been set on this object, the protocol error
already_set is raised.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>icc_profile<td>fd<td><p>ICC profile<tr><td>offset<td>uint<td><p>byte offset in fd to start of ICC data<tr><td>length<td>uint<td><p>length of ICC data in bytes</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_icc_v1.enums.error href=#wp_image_description_creator_icc_v1.enums.error>wp_image_description_creator_icc_v1.error</a></h3><p class=summary>protocol errors</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>incomplete_set<td>0<td>1<td><p>incomplete parameter set<tr><td>already_set<td>1<td>1<td><p>property already set<tr><td>bad_fd<td>2<td>1<td><p>fd not seekable and readable<tr><td>bad_size<td>3<td>1<td><p>no or too much data<tr><td>out_of_file<td>4<td>1<td><p>offset + length exceeds file size</table><div class=interface-head><div class=row><div><h2><a id=wp_image_description_creator_params_v1 href=#wp_image_description_creator_params_v1>wp_image_description_creator_params_v1</a></h2><p class=summary>holder of image description parameters</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>This type of object is used for collecting all the parameters required
to create a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object. A complete set of required
parameters consists of these properties:
- transfer characteristic function (tf)
- chromaticities of primaries and white point (primary color volume)<p>The following properties are optional and have a well-defined default
if not explicitly set:
- primary color volume luminance range
- reference white luminance level
- mastering display primaries and white point (target color volume)
- mastering luminance range<p>The following properties are optional and will be ignored
if not explicitly set:
- maximum content light level
- maximum frame-average light level<p>Each required property must be set exactly once if the client is to create
an image description. The set requests verify that a property was not
already set. The create request verifies that all required properties are
set. There may be several alternative requests for setting each property,
and in that case the client must choose one of them.<p>Once all properties have been set, the create request must be used to
create the image description object, destroying the creator in the
process.<p>A viewer, who is viewing the display defined by the resulting image
description (the viewing environment included), is assumed to be fully
adapted to the primary color volume's white point.<p>Any of the following conditions will cause the colorimetry of a pixel
to become undefined:
- Values outside of the defined range of the transfer characteristic.
- Tristimulus that exceeds the target color volume.
- If extended_target_volume is not supported: tristimulus that exceeds
the primary color volume.<p>The closest correspondence to an image description created through this
interface is the Display class of profiles in ICC.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.create href=#wp_image_description_creator_params_v1.create>wp_image_description_creator_params_v1.create</a></h3><p class=summary>Create the image description object using params</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Create an image description object based on the parameters previously
set on this object.<p>The completeness of the parameter set is verified. If the set is not
complete, the protocol error incomplete_set is raised. For the
definition of a complete set, see the description of this interface.<p>When both max_cll and max_fall are set, max_fall must be less or equal
to max_cll otherwise the invalid_luminance protocol error is raised.<p>In version 1, these following conditions also result in the
invalid_luminance protocol error. Version 2 and later do not have this
requirement.
- When max_cll is set, it must be greater than min L and less or equal
to max L of the mastering luminance range.
- When max_fall is set, it must be greater than min L and less or equal
to max L of the mastering luminance range.<p>If the particular combination of the parameter set is not supported
by the compositor, the resulting image description object shall
immediately deliver the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.failed>wp_image_description_v1.failed</a></b> event with the
'unsupported' cause. If a valid image description was created from the
parameter set, the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.ready>wp_image_description_v1.ready</a></b> event will eventually
be sent instead.<p>This request destroys the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_creator_params_v1>wp_image_description_creator_params_v1</a></b>
object.<p>The resulting image description object does not allow get_information
request.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>image_description<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_tf_named href=#wp_image_description_creator_params_v1.set_tf_named>wp_image_description_creator_params_v1.set_tf_named</a></h3><p class=summary>named transfer characteristic</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the transfer characteristic using explicitly enumerated named
functions.<p>When the resulting image description is attached to an image, the
content should be decoded according to the industry standard
practices for the transfer characteristic.<p>Only names advertised with <b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1>wp_color_manager_v1</a></b> event supported_tf_named
are allowed. Other values shall raise the protocol error invalid_tf.<p>If transfer characteristic has already been set on this object, the
protocol error already_set is raised.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>tf<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.transfer_function>wp_color_manager_v1.transfer_function</a></b>><td><p>named transfer function</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_tf_power href=#wp_image_description_creator_params_v1.set_tf_power>wp_image_description_creator_params_v1.set_tf_power</a></h3><p class=summary>transfer characteristic as a power curve</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the color component transfer characteristic to a power curve with
the given exponent. Negative values are handled by mirroring the
positive half of the curve through the origin. The valid domain and
range of the curve are all finite real numbers. This curve represents
the conversion from electrical to optical color channel values.<p>The curve exponent shall be multiplied by 10000 to get the argument eexp
value to carry the precision of 4 decimals.<p>The curve exponent must be at least 1.0 and at most 10.0. Otherwise the
protocol error invalid_tf is raised.<p>If transfer characteristic has already been set on this object, the
protocol error already_set is raised.<p>This request can be used when the compositor advertises
wp_color_manager_v1.feature.set_tf_power. Otherwise this request raises
the protocol error unsupported_feature.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>eexp<td>uint<td><p>the exponent * 10000</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_primaries_named href=#wp_image_description_creator_params_v1.set_primaries_named>wp_image_description_creator_params_v1.set_primaries_named</a></h3><p class=summary>named primaries</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the color primaries and white point using explicitly named sets.
This describes the primary color volume which is the basis for color
value encoding.<p>Only names advertised with <b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1>wp_color_manager_v1</a></b> event
supported_primaries_named are allowed. Other values shall raise the
protocol error invalid_primaries_named.<p>If primaries have already been set on this object, the protocol error
already_set is raised.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>primaries<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.primaries>wp_color_manager_v1.primaries</a></b>><td><p>named primaries</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_primaries href=#wp_image_description_creator_params_v1.set_primaries>wp_image_description_creator_params_v1.set_primaries</a></h3><p class=summary>primaries as chromaticity coordinates</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the color primaries and white point using CIE 1931 xy chromaticity
coordinates. This describes the primary color volume which is the basis
for color value encoding.<p>Each coordinate value is multiplied by 1 million to get the argument
value to carry precision of 6 decimals.<p>If primaries have already been set on this object, the protocol error
already_set is raised.<p>This request can be used if the compositor advertises
wp_color_manager_v1.feature.set_primaries. Otherwise this request raises
the protocol error unsupported_feature.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>r_x<td>int<td><p>Red x * 1M<tr><td>r_y<td>int<td><p>Red y * 1M<tr><td>g_x<td>int<td><p>Green x * 1M<tr><td>g_y<td>int<td><p>Green y * 1M<tr><td>b_x<td>int<td><p>Blue x * 1M<tr><td>b_y<td>int<td><p>Blue y * 1M<tr><td>w_x<td>int<td><p>White x * 1M<tr><td>w_y<td>int<td><p>White y * 1M</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_luminances href=#wp_image_description_creator_params_v1.set_luminances>wp_image_description_creator_params_v1.set_luminances</a></h3><p class=summary>primary color volume luminance range and reference white</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the primary color volume luminance range and the reference white
luminance level. These values include the minimum display emission, but
not external flare. The minimum display emission is assumed to have
the chromaticity of the primary color volume white point.<p>The default luminances from
https://www.color.org/chardata/rgb/srgb.xalter are
- primary color volume minimum: 0.2 cd/m²
- primary color volume maximum: 80 cd/m²
- reference white: 80 cd/m²<p>Setting a named transfer characteristic can imply other default
luminances.<p>The default luminances get overwritten when this request is used.
With transfer_function.st2084_pq the given 'max_lum' value is ignored,
and 'max_lum' is taken as 'min_lum' + 10000 cd/m².<p>'min_lum' and 'max_lum' specify the minimum and maximum luminances of
the primary color volume as reproduced by the targeted display.<p>'reference_lum' specifies the luminance of the reference white as
reproduced by the targeted display, and reflects the targeted viewing
environment.<p>Compositors should make sure that all content is anchored, meaning that
an input signal level of 'reference_lum' on one image description and
another input signal level of 'reference_lum' on another image
description should produce the same output level, even though the
'reference_lum' on both image representations can be different.<p>'reference_lum' may be higher than 'max_lum'. In that case reaching
the reference white output level in image content requires the
'extended_target_volume' feature support.<p>If 'max_lum' or 'reference_lum' are less than or equal to 'min_lum',
the protocol error invalid_luminance is raised.<p>The minimum luminance is multiplied by 10000 to get the argument
'min_lum' value and carries precision of 4 decimals. The maximum
luminance and reference white luminance values are unscaled.<p>If the primary color volume luminance range and the reference white
luminance level have already been set on this object, the protocol error
already_set is raised.<p>This request can be used if the compositor advertises
wp_color_manager_v1.feature.set_luminances. Otherwise this request
raises the protocol error unsupported_feature.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>min_lum<td>uint<td><p>minimum luminance (cd/m²) * 10000<tr><td>max_lum<td>uint<td><p>maximum luminance (cd/m²)<tr><td>reference_lum<td>uint<td><p>reference white luminance (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_mastering_display_primaries href=#wp_image_description_creator_params_v1.set_mastering_display_primaries>wp_image_description_creator_params_v1.set_mastering_display_primaries</a></h3><p class=summary>mastering display primaries as chromaticity coordinates</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Provides the color primaries and white point of the mastering display
using CIE 1931 xy chromaticity coordinates. This is compatible with the
SMPTE ST 2086 definition of HDR static metadata.<p>The mastering display primaries and mastering display luminances define
the target color volume.<p>If mastering display primaries are not explicitly set, the target color
volume is assumed to have the same primaries as the primary color volume.<p>The target color volume is defined by all tristimulus values between 0.0
and 1.0 (inclusive) of the color space defined by the given mastering
display primaries and white point. The colorimetry is identical between
the container color space and the mastering display color space,
including that no chromatic adaptation is applied even if the white
points differ.<p>The target color volume can exceed the primary color volume to allow for
a greater color volume with an existing color space definition (for
example scRGB). It can be smaller than the primary color volume to
minimize gamut and tone mapping distances for big color spaces (HDR
metadata).<p>To make use of the entire target color volume a suitable pixel format
has to be chosen (e.g. floating point to exceed the primary color
volume, or abusing limited quantization range as with xvYCC).<p>Each coordinate value is multiplied by 1 million to get the argument
value to carry precision of 6 decimals.<p>If mastering display primaries have already been set on this object, the
protocol error already_set is raised.<p>This request can be used if the compositor advertises
wp_color_manager_v1.feature.set_mastering_display_primaries. Otherwise
this request raises the protocol error unsupported_feature. The
advertisement implies support only for target color volumes fully
contained within the primary color volume.<p>If a compositor additionally supports target color volume exceeding the
primary color volume, it must advertise
wp_color_manager_v1.feature.extended_target_volume. If a client uses
target color volume exceeding the primary color volume and the
compositor does not support it, the result is implementation defined.
Compositors are recommended to detect this case and fail the image
description gracefully, but it may as well result in color artifacts.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>r_x<td>int<td><p>Red x * 1M<tr><td>r_y<td>int<td><p>Red y * 1M<tr><td>g_x<td>int<td><p>Green x * 1M<tr><td>g_y<td>int<td><p>Green y * 1M<tr><td>b_x<td>int<td><p>Blue x * 1M<tr><td>b_y<td>int<td><p>Blue y * 1M<tr><td>w_x<td>int<td><p>White x * 1M<tr><td>w_y<td>int<td><p>White y * 1M</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_mastering_luminance href=#wp_image_description_creator_params_v1.set_mastering_luminance>wp_image_description_creator_params_v1.set_mastering_luminance</a></h3><p class=summary>display mastering luminance range</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the luminance range that was used during the content mastering
process as the minimum and maximum absolute luminance L. These values
include the minimum display emission and ambient flare luminances,
assumed to be optically additive and have the chromaticity of the
primary color volume white point. This should be
compatible with the SMPTE ST 2086 definition of HDR static metadata.<p>The mastering display primaries and mastering display luminances define
the target color volume.<p>If mastering luminances are not explicitly set, the target color volume
is assumed to have the same min and max luminances as the primary color
volume.<p>If max L is less than or equal to min L, the protocol error
invalid_luminance is raised.<p>Min L value is multiplied by 10000 to get the argument min_lum value
and carry precision of 4 decimals. Max L value is unscaled for max_lum.<p>This request can be used if the compositor advertises
wp_color_manager_v1.feature.set_mastering_display_primaries. Otherwise
this request raises the protocol error unsupported_feature. The
advertisement implies support only for target color volumes fully
contained within the primary color volume.<p>If a compositor additionally supports target color volume exceeding the
primary color volume, it must advertise
wp_color_manager_v1.feature.extended_target_volume. If a client uses
target color volume exceeding the primary color volume and the
compositor does not support it, the result is implementation defined.
Compositors are recommended to detect this case and fail the image
description gracefully, but it may as well result in color artifacts.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>min_lum<td>uint<td><p>min L (cd/m²) * 10000<tr><td>max_lum<td>uint<td><p>max L (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_max_cll href=#wp_image_description_creator_params_v1.set_max_cll>wp_image_description_creator_params_v1.set_max_cll</a></h3><p class=summary>maximum content light level</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the maximum content light level (max_cll) as defined by CTA-861-H.<p>max_cll is undefined by default.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>max_cll<td>uint<td><p>Maximum content light level (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.set_max_fall href=#wp_image_description_creator_params_v1.set_max_fall>wp_image_description_creator_params_v1.set_max_fall</a></h3><p class=summary>maximum frame-average light level</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Sets the maximum frame-average light level (max_fall) as defined by
CTA-861-H.<p>max_fall is undefined by default.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>max_fall<td>uint<td><p>Maximum frame-average light level (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_creator_params_v1.enums.error href=#wp_image_description_creator_params_v1.enums.error>wp_image_description_creator_params_v1.error</a></h3><p class=summary>protocol errors</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>incomplete_set<td>0<td>1<td><p>incomplete parameter set<tr><td>already_set<td>1<td>1<td><p>property already set<tr><td>unsupported_feature<td>2<td>1<td><p>request not supported<tr><td>invalid_tf<td>3<td>1<td><p>invalid transfer characteristic<tr><td>invalid_primaries_named<td>4<td>1<td><p>invalid primaries named<tr><td>invalid_luminance<td>5<td>1<td><p>invalid luminance value or range</table><div class=interface-head><div class=row><div><h2><a id=wp_image_description_v1 href=#wp_image_description_v1>wp_image_description_v1</a></h2><p class=summary>Colorimetric image description</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>An image description carries information about the pixel color encoding
and its intended display and viewing environment. The image description is
attached to a <b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b> via
wp_color_management_surface_v1.set_image_description. A compositor can use
this information to decode pixel values into colorimetrically meaningful
quantities, which allows the compositor to transform the surface contents
to become suitable for various displays and viewing environments.<p>Note, that the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object is not ready to be used
immediately after creation. The object eventually delivers either the
'ready' or the 'failed' event, specified in all requests creating it. The
object is deemed "ready" after receiving the 'ready' event.<p>An object which is not ready is illegal to use, it can only be destroyed.
Any other request in this interface shall result in the 'not_ready'
protocol error. Attempts to use an object which is not ready through other
interfaces shall raise protocol errors defined there.<p>Once created and regardless of how it was created, a
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object always refers to one fixed image
description. It cannot change after creation.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.destroy href=#wp_image_description_v1.destroy>wp_image_description_v1.destroy</a></h3><p class=summary>destroy the image description</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy this object. It is safe to destroy an object which is not ready.<p>Destroying a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object has no side-effects, not
even if a <b><a href=/docs/wayland/color-management-v1/#wp_color_management_surface_v1.set_image_description>wp_color_management_surface_v1.set_image_description</a></b> has not
yet been followed by a wl_surface.commit.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.get_information href=#wp_image_description_v1.get_information>wp_image_description_v1.get_information</a></h3><p class=summary>get information about the image description</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Creates a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_info_v1>wp_image_description_info_v1</a></b> object which delivers the
information that makes up the image description.<p>Not all image description protocol objects allow <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_v1.get_information>get_information</a></b>
request. Whether it is allowed or not is defined by the request that
created the object. If <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_v1.get_information>get_information</a></b> is not allowed, the protocol
error no_information is raised.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>information<td>new_id&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_info_v1>wp_image_description_info_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.failed href=#wp_image_description_v1.failed>wp_image_description_v1.failed</a></h3><p class=summary>graceful error on creating the image description</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>If creating a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object fails for a reason that is
not defined as a protocol error, this event is sent.<p>The requests that create image description objects define whether and
when this can occur. Only such creation requests can trigger this event.
This event cannot be triggered after the image description was
successfully formed.<p>Once this event has been sent, the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object will
never become ready and it can only be destroyed.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>cause<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1.enums.cause>cause</a></b>><td><p>generic reason<tr><td>msg<td>string<td><p>ad hoc human-readable explanation</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.ready href=#wp_image_description_v1.ready>wp_image_description_v1.ready</a></h3><p class=summary>the object is ready to be used (32-bit)</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Starting from interface version 2, the 'ready2' event is sent instead
of this event.<p>For the definition of this event, see the 'ready2' event. The
difference to this event is as follows.<p>The id number is valid only as long as the protocol object is alive. If
all protocol objects referring to the same image description record are
destroyed, the id number may be recycled for a different image
description record.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>identity<td>uint<td><p>the 32-bit image description id number</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.ready2 href=#wp_image_description_v1.ready2>wp_image_description_v1.ready2</a></h3><p class=summary>the object is ready to be used</div><div><b>Event</b><br>Since Version 2</div></div></div><div class=description><p>Once this event has been sent, the <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> object is
deemed "ready". Ready objects can be used to send requests and can be
used through other interfaces.<p>Every ready <b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> protocol object refers to an
underlying image description record in the compositor. Multiple protocol
objects may end up referring to the same record. Clients may identify
these "copies" by comparing their id numbers: if the numbers from two
protocol objects are identical, the protocol objects refer to the same
image description record. Two different image description records
cannot have the same id number simultaneously. The id number does not
change during the lifetime of the image description record.<p>Image description id number is not a protocol object id. Zero is
reserved as an invalid id number. It shall not be possible for a client
to refer to an image description by its id number in protocol. The id
numbers might not be portable between Wayland connections. A compositor
shall not send an invalid id number.<p>Compositors must not recycle image description id numbers.<p>This identity allows clients to de-duplicate image description records
and avoid <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_v1.get_information>get_information</a></b> request if they already have the image
description information.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>identity_hi<td>uint<td><p>high 32 bits of the 64-bit image description id number<tr><td>identity_lo<td>uint<td><p>low 32 bits of the 64-bit image description id number</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.enums.error href=#wp_image_description_v1.enums.error>wp_image_description_v1.error</a></h3><p class=summary>protocol errors</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>not_ready<td>0<td>1<td><p>attempted to use an object which is not ready<tr><td>no_information<td>1<td>1<td><p>get_information not allowed</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_v1.enums.cause href=#wp_image_description_v1.enums.cause>wp_image_description_v1.cause</a></h3><p class=summary>generic reason for failure</div><div><b>Enum</b><br>Since Version 1</div></div></div><div class=description><p></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>low_version<td>0<td>1<td><p>interface version too low<tr><td>unsupported<td>1<td>1<td><p>unsupported image description data<tr><td>operating_system<td>2<td>1<td><p>error independent of the client<tr><td>no_output<td>3<td>1<td><p>the relevant output no longer exists</table><div class=interface-head><div class=row><div><h2><a id=wp_image_description_info_v1 href=#wp_image_description_info_v1>wp_image_description_info_v1</a></h2><p class=summary>Colorimetric image description information</div><div><b>Interface</b><br>Version 2</div></div></div><div class=description><p>Sends all matching events describing an image description object exactly
once and finally sends the 'done' event.<p>This means
- if the image description is parametric, it must send
- primaries
- named_primaries, if applicable
- at least one of <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_info_v1.tf_power>tf_power</a></b> and tf_named, as applicable
- luminances
- <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_info_v1.target_primaries>target_primaries</a></b>
- <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_info_v1.target_luminance>target_luminance</a></b>
- if the image description is parametric, it may send, if applicable,
- <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_info_v1.target_max_cll>target_max_cll</a></b>
- <b><a href=/docs/wayland/color-management-v1/))#wp_image_description_info_v1.target_max_fall>target_max_fall</a></b>
- if the image description contains an ICC profile, it must send the
<b><a href=/docs/wayland/color-management-v1/))#wp_image_description_info_v1.icc_file>icc_file</a></b> event<p>Once a <b><a href=/docs/wayland/color-management-v1/#wp_image_description_info_v1>wp_image_description_info_v1</a></b> object has delivered a 'done' event it
is automatically destroyed.<p>Every <b><a href=/docs/wayland/color-management-v1/#wp_image_description_info_v1>wp_image_description_info_v1</a></b> created from the same
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> shall always return the exact same data.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.done href=#wp_image_description_info_v1.done>wp_image_description_info_v1.done</a></h3><p class=summary>end of information</div><div><b>Destructor
Event</b><br>Since Version 1</div></div></div><div class=description><p>Signals the end of information events and destroys the object.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.icc_file href=#wp_image_description_info_v1.icc_file>wp_image_description_info_v1.icc_file</a></h3><p class=summary>ICC profile matching the image description</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The icc argument provides a file descriptor to the client which may be
memory-mapped to provide the ICC profile matching the image description.
The fd is read-only, and if mapped then it must be mapped with
MAP_PRIVATE by the client.<p>The ICC profile version and other details are determined by the
compositor. There is no provision for a client to ask for a specific
kind of a profile.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>icc<td>fd<td><p>ICC profile file descriptor<tr><td>icc_size<td>uint<td><p>ICC profile size, in bytes</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.primaries href=#wp_image_description_info_v1.primaries>wp_image_description_info_v1.primaries</a></h3><p class=summary>primaries as chromaticity coordinates</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Delivers the primary color volume primaries and white point using CIE
1931 xy chromaticity coordinates.<p>Each coordinate value is multiplied by 1 million to get the argument
value to carry precision of 6 decimals.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>r_x<td>int<td><p>Red x * 1M<tr><td>r_y<td>int<td><p>Red y * 1M<tr><td>g_x<td>int<td><p>Green x * 1M<tr><td>g_y<td>int<td><p>Green y * 1M<tr><td>b_x<td>int<td><p>Blue x * 1M<tr><td>b_y<td>int<td><p>Blue y * 1M<tr><td>w_x<td>int<td><p>White x * 1M<tr><td>w_y<td>int<td><p>White y * 1M</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.primaries_named href=#wp_image_description_info_v1.primaries_named>wp_image_description_info_v1.primaries_named</a></h3><p class=summary>named primaries</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Delivers the primary color volume primaries and white point using an
explicitly enumerated named set.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>primaries<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.primaries>wp_color_manager_v1.primaries</a></b>><td><p>named primaries</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.tf_power href=#wp_image_description_info_v1.tf_power>wp_image_description_info_v1.tf_power</a></h3><p class=summary>transfer characteristic as a power curve</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The color component transfer characteristic of this image description is
a pure power curve. This event provides the exponent of the power
function. This curve represents the conversion from electrical to
optical pixel or color values.<p>The curve exponent has been multiplied by 10000 to get the argument eexp
value to carry the precision of 4 decimals.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>eexp<td>uint<td><p>the exponent * 10000</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.tf_named href=#wp_image_description_info_v1.tf_named>wp_image_description_info_v1.tf_named</a></h3><p class=summary>named transfer characteristic</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Delivers the transfer characteristic using an explicitly enumerated
named function.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>tf<td>uint&lt;<b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.enums.transfer_function>wp_color_manager_v1.transfer_function</a></b>><td><p>named transfer function</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.luminances href=#wp_image_description_info_v1.luminances>wp_image_description_info_v1.luminances</a></h3><p class=summary>primary color volume luminance range and reference white</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Delivers the primary color volume luminance range and the reference
white luminance level. These values include the minimum display emission
and ambient flare luminances, assumed to be optically additive and have
the chromaticity of the primary color volume white point.<p>The minimum luminance is multiplied by 10000 to get the argument
'min_lum' value and carries precision of 4 decimals. The maximum
luminance and reference white luminance values are unscaled.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>min_lum<td>uint<td><p>minimum luminance (cd/m²) * 10000<tr><td>max_lum<td>uint<td><p>maximum luminance (cd/m²)<tr><td>reference_lum<td>uint<td><p>reference white luminance (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.target_primaries href=#wp_image_description_info_v1.target_primaries>wp_image_description_info_v1.target_primaries</a></h3><p class=summary>target primaries as chromaticity coordinates</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Provides the color primaries and white point of the target color volume
using CIE 1931 xy chromaticity coordinates. This is compatible with the
SMPTE ST 2086 definition of HDR static metadata for mastering displays.<p>While primary color volume is about how color is encoded, the target
color volume is the actually displayable color volume.<p>Each coordinate value is multiplied by 1 million to get the argument
value to carry precision of 6 decimals.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>r_x<td>int<td><p>Red x * 1M<tr><td>r_y<td>int<td><p>Red y * 1M<tr><td>g_x<td>int<td><p>Green x * 1M<tr><td>g_y<td>int<td><p>Green y * 1M<tr><td>b_x<td>int<td><p>Blue x * 1M<tr><td>b_y<td>int<td><p>Blue y * 1M<tr><td>w_x<td>int<td><p>White x * 1M<tr><td>w_y<td>int<td><p>White y * 1M</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.target_luminance href=#wp_image_description_info_v1.target_luminance>wp_image_description_info_v1.target_luminance</a></h3><p class=summary>target luminance range</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Provides the luminance range that the image description is targeting as
the minimum and maximum absolute luminance L. These values include the
minimum display emission and ambient flare luminances, assumed to be
optically additive and have the chromaticity of the primary color
volume white point. This should be compatible with the SMPTE ST 2086
definition of HDR static metadata.<p>This luminance range is only theoretical and may not correspond to the
luminance of light emitted on an actual display.<p>Min L value is multiplied by 10000 to get the argument min_lum value and
carry precision of 4 decimals. Max L value is unscaled for max_lum.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>min_lum<td>uint<td><p>min L (cd/m²) * 10000<tr><td>max_lum<td>uint<td><p>max L (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.target_max_cll href=#wp_image_description_info_v1.target_max_cll>wp_image_description_info_v1.target_max_cll</a></h3><p class=summary>target maximum content light level</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Provides the targeted max_cll of the image description. max_cll is
defined by CTA-861-H.<p>This luminance is only theoretical and may not correspond to the
luminance of light emitted on an actual display.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>max_cll<td>uint<td><p>Maximum content light-level (cd/m²)</table><div class=message-head><div class=row><div><h3><a id=wp_image_description_info_v1.target_max_fall href=#wp_image_description_info_v1.target_max_fall>wp_image_description_info_v1.target_max_fall</a></h3><p class=summary>target maximum frame-average light level</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>Provides the targeted max_fall of the image description. max_fall is
defined by CTA-861-H.<p>This luminance is only theoretical and may not correspond to the
luminance of light emitted on an actual display.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>max_fall<td>uint<td><p>Maximum frame-average light level (cd/m²)</table><div class=interface-head><div class=row><div><h2><a id=wp_image_description_reference_v1 href=#wp_image_description_reference_v1>wp_image_description_reference_v1</a></h2><p class=summary>Reference to an image description</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>This object is a reference to an image description. This interface is
frozen at version 1 to allow other protocols to create
<b><a href=/docs/wayland/color-management-v1/#wp_image_description_v1>wp_image_description_v1</a></b> objects.<p>The <b><a href=/docs/wayland/color-management-v1/#wp_color_manager_v1.get_image_description>wp_color_manager_v1.get_image_description</a></b> request can be used to
retrieve the underlying image description.</div><div class=message-head><div class=row><div><h3><a id=wp_image_description_reference_v1.destroy href=#wp_image_description_reference_v1.destroy>wp_image_description_reference_v1.destroy</a></h3><p class=summary>destroy the reference</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Destroy this object. This has no effect on the referenced image
description.</div><div class=interface-head><h2>Copyright</h2></div><div class=copyright><p><br>Copyright 2019 Sebastian Wick<br>Copyright 2019 Erwin Burema<br>Copyright 2020 AMD<br>Copyright 2020-2024 Collabora, Ltd.<br>Copyright 2024 Xaver Hugl<br>Copyright 2022-2025 Red Hat, Inc.<br><br>Permission is hereby granted, free of charge, to any person obtaining a<br>copy of this software and associated documentation files (the "Software"),<br>to deal in the Software without restriction, including without limitation<br>the rights to use, copy, modify, merge, publish, distribute, sublicense,<br>and/or sell copies of the Software, and to permit persons to whom the<br>Software is furnished to do so, subject to the following conditions:<br><br>The above copyright notice and this permission notice (including the next<br>paragraph) shall be included in all copies or substantial portions of the<br>Software.<br><br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL<br>THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING<br>FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER<br>DEALINGS IN THE SOFTWARE.<br></div></div></main><footer><span class=line>© 2021-2026 Isaac Freund,</span>
<span class=line><a href=/impressum>Impressum</a>,</span>
<span class=line>Content <a href=/CC-BY-NC-SA-4.0.txt>CC-BY-NC-SA-4.0</a>,</span>
<span class=line><a href=https://codeberg.org/ifreund/website>Source Code</a> <a href=/AGPL-3.0-only.txt>AGPL-3.0-only</a></span></footer>