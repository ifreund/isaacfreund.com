<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=icon href=/if.png><link rel=stylesheet href=/style.css><link rel=alternate href=/blog/feed.xml type=application/atom+xml title="Isaac Freund's Blog"><link rel=alternate href=/poetry/feed.xml type=application/atom+xml title="Isaac Freund's Poetry"><link rel=me href=https://hachyderm.io/@ifreund><header><nav><input type=checkbox id=toggle><div class=nav-bar><div class=nav-home><a href=/><svg viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="1" height="1"/><rect x="0" y="2" width="1" height="3"/><path d="M2 0h3v1H3v1h2v1H3v2H2V0z"/><rect x="4" y="4" width="1" height="1"/></svg></a></div><div class=menu><label for=toggle class=menu-button><svg class="menu-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><rect x="0" y="0" width="5" height="1"/><rect x="0" y="2" width="5" height="1"/><rect x="0" y="4" width="5" height="1"/></svg>
<svg class="close-icon" viewBox="0 0 5 5" shape-rendering="crispEdges"><line x1="0" y1="0" x2="5" y2="5"/><line x1="0" y1="5" x2="5" y2="0"/></svg></label></div></div></div><div class=nav-items><a href=/about>about</a>
<a href=/blog>blog</a>
<a href=/software>software</a>
<a href=/poetry>poetry</a>
<a href=/consulting>consulting</a></div></nav></header><main class="wayland-protocol xdg-activation-v1"><div class=title><div class=row><div><h1>xdg-activation-v1</h1><p class=summary>Protocol for requesting activation of surfaces</div><div><p>(<a href=/docs/wayland>index</a>)<p></div></div></div><div class=content><div class=description><p>The way for a client to pass focus to another toplevel is as follows.<p>The client that intends to activate another toplevel uses the
<b><a href=/docs/wayland/xdg-activation-v1/)])))#xdg_activation_v1.get_activation_token>xdg_activation_v1.get_activation_token</a></b> request to get an activation token.
This token is then forwarded to the client, which is supposed to activate
one of its surfaces, through a separate band of communication.<p>One established way of doing this is through the XDG_ACTIVATION_TOKEN
environment variable of a newly launched child process. The child process
should unset the environment variable again right after reading it out in
order to avoid propagating it to other child processes.<p>Another established way exists for Applications implementing the D-Bus
interface org.freedesktop.Application, which should get their token under
activation-token on their platform_data.<p>In general activation tokens may be transferred across clients through
means not described in this protocol.<p>The client to be activated will then pass the token
it received to the <b><a href=/docs/wayland/xdg-activation-v1/)])))#xdg_activation_v1.activate>xdg_activation_v1.activate</a></b> request. The compositor can
then use this token to decide how to react to the activation request.<p>The token the activating client gets may be ineffective either already at
the time it receives it, for example if it was not focused, for focus
stealing prevention. The activating client will have no way to discover
the validity of the token, and may still forward it to the to be activated
client.<p>The created activation token may optionally get information attached to it
that can be used by the compositor to identify the application that we
intend to activate. This can for example be used to display a visual hint
about what application is being started.<p>Warning! The protocol described in this file is currently in the testing
phase. Backward compatible changes may be added together with the
corresponding interface version bump. Backward incompatible changes can
only be done by creating a new major version of the extension.</div><div class=interface-head><div class=row><div><h2><a id=xdg_activation_v1 href=#xdg_activation_v1>xdg_activation_v1</a></h2><p class=summary>interface for activating surfaces</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>A global interface used for informing the compositor about applications
being activated or started, or for applications to request to be
activated.</div><div class=message-head><div class=row><div><h3><a id=xdg_activation_v1.destroy href=#xdg_activation_v1.destroy>xdg_activation_v1.destroy</a></h3><p class=summary>destroy the xdg_activation object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Notify the compositor that the xdg_activation object will no longer be
used.<p>The child objects created via this interface are unaffected and should
be destroyed separately.</div><div class=message-head><div class=row><div><h3><a id=xdg_activation_v1.get_activation_token href=#xdg_activation_v1.get_activation_token>xdg_activation_v1.get_activation_token</a></h3><p class=summary>requests a token</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Creates an <b><a href=/docs/wayland/xdg-activation-v1/)])))#xdg_activation_token_v1>xdg_activation_token_v1</a></b> object that will provide
the initiating client with a unique token for this activation. This
token should be offered to the clients to be activated.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>id<td>new_id&lt;<b><a href=/docs/wayland/xdg-activation-v1/#xdg_activation_token_v1>xdg_activation_token_v1</a></b>><td><p></table><div class=message-head><div class=row><div><h3><a id=xdg_activation_v1.activate href=#xdg_activation_v1.activate>xdg_activation_v1.activate</a></h3><p class=summary>notify new interaction being available</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Requests surface activation. It's up to the compositor to display
this information as desired, for example by placing the surface above
the rest.<p>The compositor may know who requested this by checking the activation
token and might decide not to follow through with the activation if it's
considered unwanted.<p>Compositors can ignore unknown activation tokens when an invalid
token is passed.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>token<td>string<td><p>the activation token of the initiating client<tr><td>surface<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>><td><p>the wl_surface to activate</table><div class=interface-head><div class=row><div><h2><a id=xdg_activation_token_v1 href=#xdg_activation_token_v1>xdg_activation_token_v1</a></h2><p class=summary>an exported activation handle</div><div><b>Interface</b><br>Version 1</div></div></div><div class=description><p>An object for setting up a token and receiving a token handle that can
be passed as an activation token to another client.<p>The object is created using the <b><a href=/docs/wayland/xdg-activation-v1/)])))#xdg_activation_v1.get_activation_token>xdg_activation_v1.get_activation_token</a></b>
request. This object should then be populated with the app_id, surface
and serial information and committed. The compositor shall then issue a
done event with the token. In case the request's parameters are invalid,
the compositor will provide an invalid token.</div><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.set_serial href=#xdg_activation_token_v1.set_serial>xdg_activation_token_v1.set_serial</a></h3><p class=summary>specifies the seat and serial of the activating event</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Provides information about the seat and serial event that requested the
token.<p>The serial can come from an input or focus event. For instance, if a
click triggers the launch of a third-party client, the launcher client
should send a <b><a href=/docs/wayland/xdg-activation-v1/))))#xdg_activation_token_v1.set_serial>set_serial</a></b> request with the serial and seat from the
<b><a href=/docs/wayland/wayland/)])))#wl_pointer.button>wl_pointer.button</a></b> event.<p>Some compositors might refuse to activate toplevels when the token
doesn't have a valid and recent enough event serial.<p>Must be sent before commit. This information is optional.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>serial<td>uint<td><p>the serial of the event that triggered the activation<tr><td>seat<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_seat>wl_seat</a></b>><td><p>the wl_seat of the event</table><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.set_app_id href=#xdg_activation_token_v1.set_app_id>xdg_activation_token_v1.set_app_id</a></h3><p class=summary>specifies the application being activated</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>The requesting client can specify an app_id to associate the token
being created with it.<p>Must be sent before commit. This information is optional.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>app_id<td>string<td><p>the application id of the client being activated.</table><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.set_surface href=#xdg_activation_token_v1.set_surface>xdg_activation_token_v1.set_surface</a></h3><p class=summary>specifies the surface requesting activation</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>This request sets the surface requesting the activation. Note, this is
different from the surface that will be activated.<p>Some compositors might refuse to activate toplevels when the token
doesn't have a requesting surface.<p>Must be sent before commit. This information is optional.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>surface<td>object&lt;<b><a href=/docs/wayland/wayland/#wl_surface>wl_surface</a></b>><td><p>the requesting surface</table><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.commit href=#xdg_activation_token_v1.commit>xdg_activation_token_v1.commit</a></h3><p class=summary>issues the token request</div><div><b>Request</b><br>Since Version 1</div></div></div><div class=description><p>Requests an activation token based on the different parameters that
have been offered through <b><a href=/docs/wayland/xdg-activation-v1/))))#xdg_activation_token_v1.set_serial>set_serial</a></b>, <b><a href=/docs/wayland/xdg-activation-v1/))))#xdg_activation_token_v1.set_surface>set_surface</a></b> and <b><a href=/docs/wayland/xdg-activation-v1/))))#xdg_activation_token_v1.set_app_id>set_app_id</a></b>.</div><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.destroy href=#xdg_activation_token_v1.destroy>xdg_activation_token_v1.destroy</a></h3><p class=summary>destroy the xdg_activation_token_v1 object</div><div><b>Destructor
Request</b><br>Since Version 1</div></div></div><div class=description><p>Notify the compositor that the <b><a href=/docs/wayland/xdg-activation-v1/)])))#xdg_activation_token_v1>xdg_activation_token_v1</a></b> object will no
longer be used. The received token stays valid.</div><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.done href=#xdg_activation_token_v1.done>xdg_activation_token_v1.done</a></h3><p class=summary>the exported activation token</div><div><b>Event</b><br>Since Version 1</div></div></div><div class=description><p>The 'done' event contains the unique token of this activation request
and notifies that the provider is done.</div><table class=args><thead><tr><th>Argument<th>Type<th>Description<tbody><tr><td>token<td>string<td><p>the exported activation token</table><div class=message-head><div class=row><div><h3><a id=xdg_activation_token_v1.enums.error href=#xdg_activation_token_v1.enums.error>xdg_activation_token_v1.error</a></h3><p class=summary></div><div><b>Enum</b><br>Since Version 1</div></div></div><table class=enum><thead><tr><th>Entry<th>Value<th>Since<th>Description<tbody><tr><td>already_used<td>0<td>1<td><p>The token has already been used previously</table><div class=interface-head><h2>Copyright</h2></div><div class=copyright><p><br>Copyright © 2020 Aleix Pol Gonzalez &amp;lt;aleixpol@kde.org&amp;gt;<br>Copyright © 2020 Carlos Garnacho &amp;lt;carlosg@gnome.org&amp;gt;<br><br>Permission is hereby granted, free of charge, to any person obtaining a<br>copy of this software and associated documentation files (the "Software"),<br>to deal in the Software without restriction, including without limitation<br>the rights to use, copy, modify, merge, publish, distribute, sublicense,<br>and/or sell copies of the Software, and to permit persons to whom the<br>Software is furnished to do so, subject to the following conditions:<br><br>The above copyright notice and this permission notice (including the next<br>paragraph) shall be included in all copies or substantial portions of the<br>Software.<br><br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL<br>THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING<br>FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER<br>DEALINGS IN THE SOFTWARE.<br></div></div></main><footer><span class=line>© 2021-2026 Isaac Freund,</span>
<span class=line><a href=/impressum>Impressum</a>,</span>
<span class=line>Content <a href=/CC-BY-NC-SA-4.0.txt>CC-BY-NC-SA-4.0</a>,</span>
<span class=line><a href=https://codeberg.org/ifreund/website>Source Code</a> <a href=/AGPL-3.0-only.txt>AGPL-3.0-only</a></span></footer>